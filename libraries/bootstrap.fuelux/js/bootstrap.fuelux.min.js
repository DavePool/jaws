if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";function d(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})}var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.close=function(b){function g(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a("#"===e?[]:e);b&&b.preventDefault(),f.length||(f=d.closest(".alert")),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",g).emulateTransitionEnd(c.TRANSITION_DURATION):g())};var e=a.fn.alert;a.fn.alert=d,a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})}var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.VERSION="3.3.7",b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=c,a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var d=a(b.target).closest(".btn");c.call(d,"toggle"),a(b.target).is('input[type="radio"], input[type="checkbox"]')||(b.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})}var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};b.VERSION="3.3.7",b.TRANSITION_DURATION=600,b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},b.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},b.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b);if(("prev"==a&&0===c||"next"==a&&c==this.$items.length-1)&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},b.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){if(!this.sliding)return this.slide("next")},b.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},b.prototype.slide=function(c,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(c,e),g=this.interval,h="next"==c?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(c),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([c,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(b.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=c,a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(b){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),c.call(f,g),h&&f.data("bs.carousel").to(h),b.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),function(a){"use strict";function c(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function d(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&/show|hide/.test(c)&&(f.toggle=!1),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})}var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.$trigger=a('[data-toggle="collapse"][href="#'+c.id+'"],[data-toggle="collapse"][data-target="#'+c.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};b.VERSION="3.3.7",b.TRANSITION_DURATION=350,b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(c=e.data("bs.collapse"))&&c.transitioning)){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(d.call(e,"hide"),c||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(b.TRANSITION_DURATION)[g](this.$element[0][i])}}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=a.Event("hide.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.dimension();this.$element[d](this.$element[d]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return e.call(this);this.$element[d](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(b.TRANSITION_DURATION)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},b.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(b,d){var e=a(d);this.addAriaAndCollapsedClass(c(e),e)},this)).end()},b.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=d,a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(b){var e=a(this);e.attr("data-target")||b.preventDefault();var f=c(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();d.call(f,h)})}(jQuery),function(a){"use strict";function e(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function f(d){d&&3===d.which||(a(b).remove(),a(c).each(function(){var b=a(this),c=e(b),f={relatedTarget:this};c.hasClass("open")&&(d&&"click"==d.type&&/input|textarea/i.test(d.target.tagName)&&a.contains(c[0],d.target)||(c.trigger(d=a.Event("hide.bs.dropdown",f)),d.isDefaultPrevented()||(b.attr("aria-expanded","false"),c.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function g(b){return this.each(function(){var c=a(this),e=c.data("bs.dropdown");e||c.data("bs.dropdown",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var b=".dropdown-backdrop",c='[data-toggle="dropdown"]',d=function(b){a(b).on("click.bs.dropdown",this.toggle)};d.VERSION="3.3.7",d.prototype.toggle=function(b){var c=a(this);if(!c.is(".disabled, :disabled")){var d=e(c),g=d.hasClass("open");if(f(),!g){"ontouchstart"in document.documentElement&&!d.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",f);var h={relatedTarget:this};if(d.trigger(b=a.Event("show.bs.dropdown",h)),b.isDefaultPrevented())return;c.trigger("focus").attr("aria-expanded","true"),d.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},d.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=e(d),g=f.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&f.find(c).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=f.find(".dropdown-menu"+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=g,a.fn.dropdown.Constructor=d,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",f).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",c,d.prototype.toggle).on("keydown.bs.dropdown.data-api",c,d.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",d.prototype.keydown)}(jQuery),function(a){"use strict";function c(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})}var b=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.VERSION="3.3.7",b.TRANSITION_DURATION=300,b.BACKDROP_TRANSITION_DURATION=150,b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},b.prototype.show=function(c){var d=this,e=a.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:c});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(b.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},b.prototype.hide=function(c){c&&c.preventDefault(),c=a.Event("hide.bs.modal"),this.$element.trigger(c),this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(b.TRANSITION_DURATION):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},b.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(c){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!c)return;f?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):c()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),c&&c()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(b.BACKDROP_TRANSITION_DURATION):g()}else c&&c()},b.prototype.handleUpdate=function(){this.adjustDialog()},b.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},b.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},b.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},b.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},b.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},b.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=c,a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&b.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),c.call(f,g,this)})}(jQuery),function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;!e&&/destroy|hide/.test(c)||(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})}var b=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};b.VERSION="3.3.7",b.TRANSITION_DURATION=150,b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},b.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},b.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue()){if(clearTimeout(c.timeout),c.hoverState="out",!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)}},b.prototype.show=function(){var c=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(c);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(c.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(b.TRANSITION_DURATION):q()}},b.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(c){function g(){"in"!=d.hoverState&&e.detach(),d.$element&&d.$element.removeAttr("aria-describedby").trigger("hidden.bs."+d.type),c&&c()}var d=this,e=a(this.$tip),f=a.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.one("bsTransitionEnd",g).emulateTransitionEnd(b.TRANSITION_DURATION):g(),this.hoverState=null,this},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},b.prototype.getTitle=function(){var b=this.$element,c=this.options;return b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},b.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=this;b&&((c=a(b.currentTarget).data("bs."+this.type))||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=c,a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;!e&&/destroy|hide/.test(c)||(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})}var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.VERSION="3.3.7",b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=c,a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var g,a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),c=this.options.offset+b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget;if(this.scrollHeight!=b&&this.refresh(),a>=c)return f!=(g=e[e.length-1])&&this.activate(g);if(f&&a<d[0])return this.activeTarget=null,this.clear();for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(void 0===d[g+1]||a<d[g+1])&&this.activate(e[g])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})}var b=function(b){this.element=a(b)};b.VERSION="3.3.7",b.TRANSITION_DURATION=150,b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},b.prototype.activate=function(c,d,e){function h(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),c.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),g?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade"),c.parent(".dropdown-menu").length&&c.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var f=d.find("> .active"),g=e&&a.support.transition&&(f.length&&f.hasClass("fade")||!!d.find("> .fade").length);f.length&&g?f.one("bsTransitionEnd",h).emulateTransitionEnd(b.TRANSITION_DURATION):h(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=c,a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(b){b.preventDefault(),c.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),function(a){"use strict";function c(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})}var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};b.VERSION="3.3.7",b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0,target:window},b.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$target.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,c,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-c-f})}};var d=a.fn.affix;a.fn.affix=c,a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),d=b.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),c.call(b,d)})})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery","bootstrap"],a):a(jQuery)}(function(a){if(void 0===a)throw new Error("Fuel UX's JavaScript requires jQuery");if(void 0===a.fn.dropdown||void 0===a.fn.collapse)throw new Error("Fuel UX's JavaScript requires Bootstrap");!function(a){var b=a.fn.checkbox,c=function(b,c){if(this.options=a.extend({},a.fn.checkbox.defaults,c),"label"===b.tagName.toLowerCase()){this.$label=a(b),this.$chk=this.$label.find('input[type="checkbox"]'),this.$container=a(b).parent(".checkbox");var d=this.$chk.attr("data-toggle");this.$toggleContainer=a(d),this.$chk.on("change",a.proxy(this.itemchecked,this)),this.setInitialState()}};c.prototype={constructor:c,setInitialState:function(){var a=this.$chk,c=(this.$label,a.prop("checked")),d=a.prop("disabled");this.setCheckedState(a,c),this.setDisabledState(a,d)},setCheckedState:function(a,b){var c=a,d=this.$label,f=(this.$container,this.$toggleContainer);b?(c.prop("checked",!0),d.addClass("checked"),f.removeClass("hide hidden"),d.trigger("checked.fu.checkbox")):(c.prop("checked",!1),d.removeClass("checked"),f.addClass("hidden"),d.trigger("unchecked.fu.checkbox")),d.trigger("changed.fu.checkbox",b)},setDisabledState:function(a,b){var d=this.$label;b?(this.$chk.prop("disabled",!0),d.addClass("disabled"),d.trigger("disabled.fu.checkbox")):(this.$chk.prop("disabled",!1),d.removeClass("disabled"),d.trigger("enabled.fu.checkbox"))},itemchecked:function(b){var c=a(b.target),d=c.prop("checked");this.setCheckedState(c,d)},toggle:function(){this.isChecked()?this.uncheck():this.check()},check:function(){this.setCheckedState(this.$chk,!0)},uncheck:function(){this.setCheckedState(this.$chk,!1)},isChecked:function(){return this.$chk.prop("checked")},enable:function(){this.setDisabledState(this.$chk,!1)},disable:function(){this.setDisabledState(this.$chk,!0)},destroy:function(){return this.$label.remove(),this.$label[0].outerHTML}},c.prototype.getValue=c.prototype.isChecked,a.fn.checkbox=function(b){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.checkbox"),h="object"==typeof b&&b;g||f.data("fu.checkbox",g=new c(this,h)),"string"==typeof b&&(e=g[b].apply(g,d))});return void 0===e?f:e},a.fn.checkbox.defaults={},a.fn.checkbox.Constructor=c,a.fn.checkbox.noConflict=function(){return a.fn.checkbox=b,this},a(document).on("mouseover.fu.checkbox.data-api","[data-initialize=checkbox]",function(b){var c=a(b.target);c.data("fu.checkbox")||c.checkbox(c.data())}),a(function(){a("[data-initialize=checkbox]").each(function(){var b=a(this);b.data("fu.checkbox")||b.checkbox(b.data())})})}(a),function(a){var b=a.fn.combobox,c=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.combobox.defaults,c),this.$dropMenu=this.$element.find(".dropdown-menu"),this.$input=this.$element.find("input"),this.$button=this.$element.find(".btn"),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$element.on("click.fu.combobox","a",a.proxy(this.itemclicked,this)),this.$element.on("change.fu.combobox","input",a.proxy(this.inputchanged,this)),this.$element.on("shown.bs.dropdown",a.proxy(this.menuShown,this)),this.$input.on("keyup.fu.combobox",a.proxy(this.keypress,this)),this.setDefaultSelection(),0===this.$dropMenu.children("li").length&&this.$button.addClass("disabled"),this.options.filterOnKeypress&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this)};c.prototype={constructor:c,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){a(this).attr("value",a(this).val())}),this.$element[0].outerHTML},doSelect:function(a){void 0!==a[0]?(this.$element.find("li.selected:first").removeClass("selected"),this.$selectedItem=a,this.$selectedItem.addClass("selected"),this.$input.val(this.$selectedItem.text().trim())):(this.$selectedItem=null,this.$element.find("li.selected:first").removeClass("selected"))},clearSelection:function(){this.$selectedItem=null,this.$input.val(""),this.$dropMenu.find("li").removeClass("selected")},menuShown:function(){this.options.autoResizeMenu&&this.resizeMenu()},resizeMenu:function(){var a=this.$element.outerWidth();this.$dropMenu.outerWidth(a)},selectedItem:function(){var b=this.$selectedItem,c={};if(b){var d=this.$selectedItem.text().trim();c=a.extend({text:d},this.$selectedItem.data())}else c={text:this.$input.val().trim(),notFound:!0};return c},selectByText:function(b){var c=a([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||a(this).text()||"").trim().toLowerCase()===(b||"").trim().toLowerCase())return c=a(this),!1}),this.doSelect(c)},selectByValue:function(a){var b='li[data-value="'+a+'"]';this.selectBySelector(b)},selectByIndex:function(a){var b="li:eq("+a+")";this.selectBySelector(b)},selectBySelector:function(a){var b=this.$element.find(a);this.doSelect(b)},setDefaultSelection:function(){var a="li[data-selected=true]:first",b=this.$element.find(a);b.length>0&&(this.selectBySelector(a),b.removeData("selected"),b.removeAttr("data-selected"))},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled",!0),this.$button.addClass("disabled")},itemclicked:function(b){this.$selectedItem=a(b.target).parent(),this.$input.val(this.$selectedItem.text().trim()).trigger("change",{synthetic:!0});var c=this.selectedItem();this.$element.trigger("changed.fu.combobox",c),b.preventDefault(),this.$element.find(".dropdown-toggle").focus()},keypress:function(a){var d=37,e=38,f=39,g=40,h=a.which===e||a.which===g||a.which===d||a.which===f;if(this.options.showOptionsOnKeypress&&!this.$inputGroupBtn.hasClass("open")&&(this.$button.dropdown("toggle"),this.$input.focus()),13===a.which){a.preventDefault();var i=this.$dropMenu.find("li.selected").text().trim();i.length>0?this.selectByText(i):this.selectByText(this.$input.val()),this.$inputGroupBtn.removeClass("open")}else if(27===a.which)a.preventDefault(),this.clearSelection(),this.$inputGroupBtn.removeClass("open");else if(this.options.showOptionsOnKeypress&&(a.which===g||a.which===e)){a.preventDefault();var j=this.$dropMenu.find("li.selected");j.length>0&&(j=a.which===g?j.next(":not(.hidden)"):j.prev(":not(.hidden)")),0===j.length&&(j=a.which===g?this.$dropMenu.find("li:not(.hidden):first"):this.$dropMenu.find("li:not(.hidden):last")),this.doSelect(j)}this.options.filterOnKeypress&&!h&&this.options.filter(this.$dropMenu.find("li"),this.$input.val(),this),this.previousKeyPress=a.which},inputchanged:function(b,c){var d=a(b.target).val();if(c&&c.synthetic)return void this.selectByText(d);this.selectByText(d);var e=this.selectedItem();0===e.text.length&&(e={text:d}),this.$element.trigger("changed.fu.combobox",e)}},c.prototype.getValue=c.prototype.selectedItem,a.fn.combobox=function(b){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.combobox"),h="object"==typeof b&&b;g||f.data("fu.combobox",g=new c(this,h)),"string"==typeof b&&(e=g[b].apply(g,d))});return void 0===e?f:e},a.fn.combobox.defaults={autoResizeMenu:!0,filterOnKeypress:!1,showOptionsOnKeypress:!1,filter:function(c,d,e){var f=0;e.$dropMenu.find(".empty-indicator").remove(),c.each(function(b){var c=a(this),e=a(this).text().trim();c.removeClass(),e===d?(c.addClass("text-success"),f++):e.substr(0,d.length)===d?(c.addClass("text-info"),f++):c.addClass("hidden")}),0===f&&e.$dropMenu.append('<li class="empty-indicator text-muted"><em>No Matches</em></li>')}},a.fn.combobox.Constructor=c,a.fn.combobox.noConflict=function(){return a.fn.combobox=b,this},a(document).on("mousedown.fu.combobox.data-api","[data-initialize=combobox]",function(b){var c=a(b.target).closest(".combobox");c.data("fu.combobox")||c.combobox(c.data())}),a(function(){a("[data-initialize=combobox]").each(function(){var b=a(this);b.data("fu.combobox")||b.combobox(b.data())})})}(a),function(a){var b="Invalid Date",c="moment.js is not available so you cannot use this function",d=[],e=!1,f=a.fn.datepicker,g=!1,h=function(){var a,b;for(g=!0,a=0,b=d.length;a<b;a++)d[a].init.call(d[a].scope);d=[]};"function"==typeof define&&define.amd?require(["moment"],function(a){e=a,h()},function(a){"moment"===(a.requireModules&&a.requireModules[0])&&h()}):h();var i=function(b,c){this.$element=a(b),this.options=a.extend(!0,{},a.fn.datepicker.defaults,c),this.$calendar=this.$element.find(".datepicker-calendar"),this.$days=this.$calendar.find(".datepicker-calendar-days"),this.$header=this.$calendar.find(".datepicker-calendar-header"),this.$headerTitle=this.$header.find(".title"),this.$input=this.$element.find("input"),this.$inputGroupBtn=this.$element.find(".input-group-btn"),this.$wheels=this.$element.find(".datepicker-wheels"),this.$wheelsMonth=this.$element.find(".datepicker-wheels-month"),this.$wheelsYear=this.$element.find(".datepicker-wheels-year"),this.artificialScrolling=!1,this.formatDate=this.options.formatDate||this.formatDate,this.inputValue=null,this.moment=!1,this.momentFormat=null,this.parseDate=this.options.parseDate||this.parseDate,this.preventBlurHide=!1,this.restricted=this.options.restricted||[],this.restrictedParsed=[],this.restrictedText=this.options.restrictedText,this.sameYearOnly=this.options.sameYearOnly,this.selectedDate=null,this.yearRestriction=null,this.$calendar.find(".datepicker-today").on("click.fu.datepicker",a.proxy(this.todayClicked,this)),this.$days.on("click.fu.datepicker","tr td button",a.proxy(this.dateClicked,this)),this.$header.find(".next").on("click.fu.datepicker",a.proxy(this.next,this)),this.$header.find(".prev").on("click.fu.datepicker",a.proxy(this.prev,this)),this.$headerTitle.on("click.fu.datepicker",a.proxy(this.titleClicked,this)),this.$input.on("change.fu.datepicker",a.proxy(this.inputChanged,this)),this.$input.on("mousedown.fu.datepicker",a.proxy(this.showDropdown,this)),this.$inputGroupBtn.on("hidden.bs.dropdown",a.proxy(this.hide,this)),this.$inputGroupBtn.on("shown.bs.dropdown",a.proxy(this.show,this)),this.$wheels.find(".datepicker-wheels-back").on("click.fu.datepicker",a.proxy(this.backClicked,this)),this.$wheels.find(".datepicker-wheels-select").on("click.fu.datepicker",a.proxy(this.selectClicked,this)),this.$wheelsMonth.on("click.fu.datepicker","ul button",a.proxy(this.monthClicked,this)),this.$wheelsYear.on("click.fu.datepicker","ul button",a.proxy(this.yearClicked,this)),this.$wheelsYear.find("ul").on("scroll.fu.datepicker",a.proxy(this.onYearScroll,this));var f=function(){this.checkForMomentJS()&&(e=e||window.moment,this.moment=!0,this.momentFormat=this.options.momentConfig.format,this.setCulture(this.options.momentConfig.culture),e.locale=e.locale||e.lang),this.setRestrictedDates(this.restricted),this.setDate(this.options.date)||(this.$input.val(""),this.inputValue=this.$input.val()),this.sameYearOnly&&(this.yearRestriction=this.selectedDate?this.selectedDate.getFullYear():(new Date).getFullYear())};g?f.call(this):d.push({init:f,scope:this})};i.prototype={constructor:i,backClicked:function(){this.changeView("calendar")},changeView:function(a,b){"wheels"===a?(this.$calendar.hide().attr("aria-hidden","true"),this.$wheels.show().removeAttr("aria-hidden",""),b&&this.renderWheel(b)):(this.$wheels.hide().attr("aria-hidden","true"),this.$calendar.show().removeAttr("aria-hidden",""),b&&this.renderMonth(b))},checkForMomentJS:function(){return!(!(a.isFunction(window.moment)||void 0!==e&&a.isFunction(e))||!a.isPlainObject(this.options.momentConfig)||"string"!=typeof this.options.momentConfig.culture||"string"!=typeof this.options.momentConfig.format)},dateClicked:function(b){var d,c=a(b.currentTarget).parents("td:first");c.hasClass("restricted")||(this.$days.find("td.selected").removeClass("selected"),c.addClass("selected"),d=new Date(c.attr("data-year"),c.attr("data-month"),c.attr("data-date")),this.selectedDate=d,this.$input.val(this.formatDate(d)),this.inputValue=this.$input.val(),this.hide(),this.$input.focus(),this.$element.trigger("dateClicked.fu.datepicker",d))},destroy:function(){return this.$element.remove(),this.$days.find("tbody").empty(),this.$wheelsYear.find("ul").empty(),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$element.find("input, button").attr("disabled","disabled"),this.$inputGroupBtn.removeClass("open")},enable:function(){this.$element.removeClass("disabled"),this.$element.find("input, button").removeAttr("disabled")},formatDate:function(a){var b=function(a){var b="0"+a;return b.substr(b.length-2)};return this.moment?e(a).format(this.momentFormat):b(a.getMonth()+1)+"/"+b(a.getDate())+"/"+a.getFullYear()},getCulture:function(){if(this.moment)return e.locale();throw c},getDate:function(){return this.selectedDate?this.selectedDate:new Date(NaN)},getFormat:function(){if(this.moment)return this.momentFormat;throw c},getFormattedDate:function(){return this.selectedDate?this.formatDate(this.selectedDate):b},getRestrictedDates:function(){return this.restricted},inputChanged:function(){var b,a=this.$input.val();a!==this.inputValue&&(b=this.setDate(a),null===b?this.$element.trigger("inputParsingFailed.fu.datepicker",a):!1===b?this.$element.trigger("inputRestrictedDate.fu.datepicker",b):this.$element.trigger("changed.fu.datepicker",b))},show:function(){var a=this.selectedDate?this.selectedDate:new Date;this.changeView("calendar",a),this.$inputGroupBtn.addClass("open"),this.$element.trigger("shown.fu.datepicker")},showDropdown:function(a){this.$input.is(":focus")||this.$inputGroupBtn.hasClass("open")||this.show()},hide:function(){this.$inputGroupBtn.removeClass("open"),this.$element.trigger("hidden.fu.datepicker")},hideDropdown:function(){this.hide()},isInvalidDate:function(a){var c=a.toString();return c===b||"NaN"===c},isRestricted:function(a,b,c){var e,f,g,h,d=this.restrictedParsed;if(this.sameYearOnly&&null!==this.yearRestriction&&c!==this.yearRestriction)return!0;for(e=0,g=d.length;e<g;e++)if(f=d[e].from,h=d[e].to,(c>f.year||c===f.year&&b>f.month||c===f.year&&b===f.month&&a>=f.date)&&(c<h.year||c===h.year&&b<h.month||c===h.year&&b===h.month&&a<=h.date))return!0;return!1},monthClicked:function(b){this.$wheelsMonth.find(".selected").removeClass("selected"),a(b.currentTarget).parent().addClass("selected")},next:function(){var a=this.$headerTitle.attr("data-month"),b=this.$headerTitle.attr("data-year");if(++a>11){if(this.sameYearOnly)return;a=0,b++}this.renderMonth(new Date(b,a,1))},onYearScroll:function(b){if(!this.artificialScrolling){var i,j,c=a(b.currentTarget),d="border-box"===c.css("box-sizing")?c.outerHeight():c.height(),e=c.get(0).scrollHeight,f=c.scrollTop(),g=d/(e-f)*100,h=f/e*100;if(h<5){for(j=parseInt(c.find("li:first").attr("data-year"),10),i=j-1;i>j-11;i--)c.prepend('<li data-year="'+i+'"><button type="button">'+i+"</button></li>");this.artificialScrolling=!0,c.scrollTop(c.get(0).scrollHeight-e+f),this.artificialScrolling=!1}else if(g>90)for(j=parseInt(c.find("li:last").attr("data-year"),10),i=j+1;i<j+11;i++)c.append('<li data-year="'+i+'"><button type="button">'+i+"</button></li>")}},parseDate:function(a){var d,f,g,h,i,j,k,b=this,c=new Date(NaN);if(a){if(this.moment)return h=function(a){var d=e(a,b.momentFormat);return!0===d.isValid()?d.toDate():c},g=function(a){var b=e(new Date(a));return!0===b.isValid()?b.toDate():c},i=function(a,d,e){var f=d(a);return b.isInvalidDate(f)?(f=e(a),b.isInvalidDate(f)?c:f):f},"string"==typeof a?i(a,h,g):i(a,g,h);if("string"==typeof a){if(d=new Date(Date.parse(a)),!this.isInvalidDate(d))return d;if(a=a.split("T")[0],f=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/,(k=f.exec(a))&&(j=parseInt(k[2],10),d=new Date(k[1],j-1,k[3]),j===d.getMonth()+1))return d}else if(d=new Date(a),!this.isInvalidDate(d))return d}return new Date(NaN)},prev:function(){var a=this.$headerTitle.attr("data-month"),b=this.$headerTitle.attr("data-year");if(--a<0){if(this.sameYearOnly)return;a=11,b--}this.renderMonth(new Date(b,a,1))},renderMonth:function(b){b=b||new Date;var o,p,q,r,s,t,u,v,w,x,y,c=new Date(b.getFullYear(),b.getMonth(),1).getDay(),d=new Date(b.getFullYear(),b.getMonth()+1,0).getDate(),e=new Date(b.getFullYear(),b.getMonth(),0).getDate(),f=this.$headerTitle.find(".month"),g=b.getMonth(),h=new Date,i=h.getDate(),j=h.getMonth(),k=h.getFullYear(),l=this.selectedDate,m=this.$days.find("tbody"),n=b.getFullYear();for(l&&(l={date:l.getDate(),month:l.getMonth(),year:l.getFullYear()}),f.find(".current").removeClass("current"),f.find('span[data-month="'+g+'"]').addClass("current"),this.$headerTitle.find(".year").text(n),this.$headerTitle.attr({"data-month":g,"data-year":n}),m.empty(),0!==c?(o=e-c+1,u=-1):(o=1,u=0),t=d<=35-c?5:6,r=0;r<t;r++){for(y=a("<tr></tr>"),s=0;s<7;s++)x=a("<td></td>"),-1===u?(x.addClass("last-month"),v!==u&&x.addClass("first")):1===u&&(x.addClass("next-month"),v!==u&&x.addClass("first")),p=g+u,q=n,p<0?(p=11,q--):p>11&&(p=0,q++),x.attr({"data-date":o,"data-month":p,"data-year":q}),q===k&&p===j&&o===i?x.addClass("current-day"):(q<k||q===k&&p<j||q===k&&p===j&&o<i)&&(x.addClass("past"),this.options.allowPastDates||x.addClass("restricted").attr("title",this.restrictedText)),this.isRestricted(o,p,q)&&x.addClass("restricted").attr("title",this.restrictedText),l&&q===l.year&&p===l.month&&o===l.date&&x.addClass("selected"),x.hasClass("restricted")?x.html('<span><b class="datepicker-date">'+o+"</b></span>"):x.html('<span><button type="button" class="datepicker-date">'+o+"</button></span>"),o++,w=v,v=u,-1===u&&o>e?(o=1,u=0,w!==u&&x.addClass("last")):0===u&&o>d&&(o=1,u=1,w!==u&&x.addClass("last")),r===t-1&&6===s&&x.addClass("last"),y.append(x);m.append(y)}},renderWheel:function(a){var f,g,h,b=a.getMonth(),c=this.$wheelsMonth.find("ul"),d=a.getFullYear(),e=this.$wheelsYear.find("ul");for(this.sameYearOnly?(this.$wheelsMonth.addClass("full"),this.$wheelsYear.addClass("hidden")):(this.$wheelsMonth.removeClass("full"),this.$wheelsYear.removeClass("hide hidden")),c.find(".selected").removeClass("selected"),g=c.find('li[data-month="'+b+'"]'),g.addClass("selected"),c.scrollTop(c.scrollTop()+(g.position().top-c.outerHeight()/2-g.outerHeight(!0)/2)),e.empty(),f=d-10;f<d+11;f++)e.append('<li data-year="'+f+'"><button type="button">'+f+"</button></li>");h=e.find('li[data-year="'+d+'"]'),h.addClass("selected"),this.artificialScrolling=!0,e.scrollTop(e.scrollTop()+(h.position().top-e.outerHeight()/2-h.outerHeight(!0)/2)),this.artificialScrolling=!1,g.find("button").focus()},selectClicked:function(){var a=this.$wheelsMonth.find(".selected").attr("data-month"),b=this.$wheelsYear.find(".selected").attr("data-year");this.changeView("calendar",new Date(b,a,1))},setCulture:function(a){if(!a)return!1;if(!this.moment)throw c;e.locale(a)},setDate:function(a){var b=this.parseDate(a);return this.isInvalidDate(b)?(this.selectedDate=null,this.renderMonth()):this.isRestricted(b.getDate(),b.getMonth(),b.getFullYear())?(this.selectedDate=!1,this.renderMonth()):(this.selectedDate=b,this.renderMonth(b),this.$input.val(this.formatDate(b))),this.inputValue=this.$input.val(),this.selectedDate},setFormat:function(a){if(!a)return!1;if(!this.moment)throw c;this.momentFormat=a},setRestrictedDates:function(a){var d,e,b=[],c=this,f=function(a){return a===-1/0?{date:-1/0,month:-1/0,year:-1/0}:a===1/0?{date:1/0,month:1/0,year:1/0}:(a=c.parseDate(a),{date:a.getDate(),month:a.getMonth(),year:a.getFullYear()})};for(this.restricted=a,d=0,e=a.length;d<e;d++)b.push({from:f(a[d].from),to:f(a[d].to)});this.restrictedParsed=b},titleClicked:function(a){this.changeView("wheels",new Date(this.$headerTitle.attr("data-year"),this.$headerTitle.attr("data-month"),1))},todayClicked:function(a){var b=new Date;b.getMonth()+""===this.$headerTitle.attr("data-month")&&b.getFullYear()+""===this.$headerTitle.attr("data-year")||this.renderMonth(b)},yearClicked:function(b){this.$wheelsYear.find(".selected").removeClass("selected"),a(b.currentTarget).parent().addClass("selected")}},i.prototype.getValue=i.prototype.getDate,a.fn.datepicker=function(b){var d,c=Array.prototype.slice.call(arguments,1),e=this.each(function(){var e=a(this),f=e.data("fu.datepicker"),g="object"==typeof b&&b;f||e.data("fu.datepicker",f=new i(this,g)),"string"==typeof b&&(d=f[b].apply(f,c))});return void 0===d?e:d},a.fn.datepicker.defaults={allowPastDates:!1,date:new Date,formatDate:null,momentConfig:{culture:"en",format:"L"},parseDate:null,restricted:[],restrictedText:"Restricted",sameYearOnly:!1},a.fn.datepicker.Constructor=i,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=f,this},a(document).on("mousedown.fu.datepicker.data-api","[data-initialize=datepicker]",function(b){var c=a(b.target).closest(".datepicker");c.data("datepicker")||c.datepicker(c.data())}),a(document).on("click.fu.datepicker.data-api",".datepicker .dropdown-menu",function(b){var c=a(b.target);c.is(".datepicker-date")&&!c.closest(".restricted").length||b.stopPropagation()}),a(document).on("click.fu.datepicker.data-api",".datepicker input",function(a){a.stopPropagation()}),a(function(){a("[data-initialize=datepicker]").each(function(){var b=a(this);b.data("datepicker")||b.datepicker(b.data())})})}(a),function(a){function b(b){a(b).css({visibility:"hidden"}),c(b)?b.parent().addClass("dropup"):b.parent().removeClass("dropup"),a(b).css({visibility:"visible"})}function c(a){var b=d(a),c={};return c.parentHeight=a.parent().outerHeight(),c.parentOffsetTop=a.parent().offset().top,c.dropdownHeight=a.outerHeight(),c.containerHeight=b.overflowElement.outerHeight(),c.containerOffsetTop=b.isWindow?b.overflowElement.scrollTop():b.overflowElement.offset().top,c.fromTop=c.parentOffsetTop-c.containerOffsetTop,c.fromBottom=c.containerHeight-c.parentHeight-(c.parentOffsetTop-c.containerOffsetTop),!(c.dropdownHeight<c.fromBottom)&&(c.dropdownHeight<c.fromTop||(c.dropdownHeight>=c.fromTop&&c.dropdownHeight>=c.fromBottom?c.fromTop>=c.fromBottom:void 0))}function d(b){var e,c=b.attr("data-target"),d=!0;return c?"window"!==c&&(e=a(c),d=!1):a.each(b.parents(),function(b,c){if("visible"!==a(c).css("overflow"))return e=c,d=!1,!1}),d&&(e=window),{overflowElement:a(e),isWindow:d}}a(document).on("click.fu.dropdown-autoflip","[data-toggle=dropdown][data-flip]",function(c){"auto"===a(this).data().flip&&b(a(this).next(".dropdown-menu"))}),a(document).on("suggested.fu.pillbox",function(c,d){b(a(d)),a(d).parent().addClass("open")}),a.fn.dropdownautoflip=function(){}}(a),function(a){var b=a.fn.loader,c=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.loader.defaults,c)};c.prototype={constructor:c,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},ieRepaint:function(){},msieVersion:function(){},next:function(){},pause:function(){},play:function(){},previous:function(){},reset:function(){}},a.fn.loader=function(b){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.loader"),h="object"==typeof b&&b;g||f.data("fu.loader",g=new c(this,h)),"string"==typeof b&&(e=g[b].apply(g,d))});return void 0===e?f:e},a.fn.loader.defaults={},a.fn.loader.Constructor=c,a.fn.loader.noConflict=function(){return a.fn.loader=b,this},a(function(){a("[data-initialize=loader]").each(function(){var b=a(this);b.data("fu.loader")||b.loader(b.data())})})}(a),function(a){var b=a.fn.placard,c={accepted:"onAccept",cancelled:"onCancel"},d=function(c,d){var e=this;this.$element=a(c),this.options=a.extend({},a.fn.placard.defaults,d),"true"===this.$element.attr("data-ellipsis")&&(this.options.applyEllipsis=!0),this.$accept=this.$element.find(".placard-accept"),this.$cancel=this.$element.find(".placard-cancel"),this.$field=this.$element.find(".placard-field"),this.$footer=this.$element.find(".placard-footer"),this.$header=this.$element.find(".placard-header"),this.$popup=this.$element.find(".placard-popup"),this.actualValue=null,this.clickStamp="_",this.previousValue="",-1===this.options.revertOnCancel&&(this.options.revertOnCancel=this.$accept.length>0),this.isContentEditableDiv=this.$field.is("div"),this.isInput=this.$field.is("input"),this.divInTextareaMode=this.isContentEditableDiv&&"true"===this.$field.attr("data-textarea"),this.$field.on("focus.fu.placard",a.proxy(this.show,this)),this.$field.on("keydown.fu.placard",a.proxy(this.keyComplete,this)),this.$element.on("close.fu.placard",a.proxy(this.hide,this)),this.$accept.on("click.fu.placard",a.proxy(this.complete,this,"accepted")),this.$cancel.on("click.fu.placard",function(a){a.preventDefault(),e.complete("cancelled")}),this.applyEllipsis()},e=function(b){return b.$element.hasClass("showing")},f=function(){var c;if(c=a(document).find(".placard.showing"),c.length>0){if(c.data("fu.placard")&&c.data("fu.placard").options.explicit)return!1;c.placard("externalClickListener",{},!0)}return!0};d.prototype={constructor:d,complete:function(b){var d=this.options[c[b]],e={previousValue:this.previousValue,value:this.getValue()};d?(d(e),this.$element.trigger(b+".fu.placard",e)):("cancelled"===b&&this.options.revertOnCancel&&this.setValue(this.previousValue,!0),this.$element.trigger(b+".fu.placard",e),this.hide())},keyComplete:function(b){(this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)&&13===b.keyCode?(this.complete("accepted"),this.$field.blur()):27===b.keyCode&&(this.complete("cancelled"),this.$field.blur())},destroy:function(){return this.$element.remove(),a(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.find("input").each(function(){a(this).attr("value",a(this).val())}),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$field.attr("disabled","disabled"),this.isContentEditableDiv&&this.$field.removeAttr("contenteditable"),this.hide()},applyEllipsis:function(){var b,c,d;if(this.options.applyEllipsis)if(b=this.$field.get(0),this.isContentEditableDiv&&!this.divInTextareaMode||this.isInput)b.scrollLeft=0;else if(b.scrollTop=0,b.clientHeight<b.scrollHeight){for(this.actualValue=this.getValue(),this.setValue("",!0),d="",c=0;b.clientHeight>=b.scrollHeight;)d+=this.actualValue[c],this.setValue(d+"...",!0),c++;d=d.length>0?d.substring(0,d.length-1):"",this.setValue(d+"...",!0)}},enable:function(){this.$element.removeClass("disabled"),this.$field.removeAttr("disabled"),this.isContentEditableDiv&&this.$field.attr("contenteditable","true")},externalClickListener:function(b,c){(!0===c||this.isExternalClick(b))&&this.complete(this.options.externalClickAction)},getValue:function(){return null!==this.actualValue?this.actualValue:this.isContentEditableDiv?this.$field.html():this.$field.val()},hide:function(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),this.applyEllipsis(),a(document).off("click.fu.placard.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.placard"))},isExternalClick:function(c){var g,h,d=this.$element.get(0),e=this.options.externalClickExceptions||[],f=a(c.target);if(c.target===d||f.parents(".placard:first").get(0)===d)return!1;for(g=0,h=e.length;g<h;g++)if(f.is(e[g])||f.parents(e[g]).length>0)return!1;return!0},setValue:function(b,c){return void 0===c&&(c=!this.options.applyEllipsis),this.isContentEditableDiv?this.$field.empty().append(b):this.$field.val(b),c||e(this)||this.applyEllipsis(),this.$field},show:function(){e(this)||f()&&(this.previousValue=this.isContentEditableDiv?this.$field.html():this.$field.val(),null!==this.actualValue&&(this.setValue(this.actualValue,!0),this.actualValue=null),this.showPlacard())},showPlacard:function(){this.$element.addClass("showing"),this.$header.length>0&&this.$popup.css("top","-"+this.$header.outerHeight(!0)+"px"),this.$footer.length>0&&this.$popup.css("bottom","-"+this.$footer.outerHeight(!0)+"px"),this.$element.trigger("shown.fu.placard"),this.clickStamp=(new Date).getTime()+(Math.floor(100*Math.random())+1),this.options.explicit||a(document).on("click.fu.placard.externalClick."+this.clickStamp,a.proxy(this.externalClickListener,this))}},a.fn.placard=function(b){var e,c=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.placard"),h="object"==typeof b&&b;g||f.data("fu.placard",g=new d(this,h)),"string"==typeof b&&(e=g[b].apply(g,c))});return void 0===e?f:e},a.fn.placard.defaults={onAccept:void 0,onCancel:void 0,externalClickAction:"cancelled",externalClickExceptions:[],explicit:!1,revertOnCancel:-1,applyEllipsis:!1},a.fn.placard.Constructor=d,a.fn.placard.noConflict=function(){return a.fn.placard=b,this},a(document).on("focus.fu.placard.data-api","[data-initialize=placard]",function(b){var c=a(b.target).closest(".placard");c.data("fu.placard")||c.placard(c.data())}),a(function(){a("[data-initialize=placard]").each(function(){var b=a(this);b.data("fu.placard")||b.placard(b.data())})})}(a),function(a){var b=a.fn.radio,c=function(b,c){if(this.options=a.extend({},a.fn.radio.defaults,c),"label"===b.tagName.toLowerCase()){this.$label=a(b),this.$radio=this.$label.find('input[type="radio"]'),this.groupName=this.$radio.attr("name");var d=this.$radio.attr("data-toggle");this.$toggleContainer=a(d),this.$radio.on("change",a.proxy(this.itemchecked,this)),this.setInitialState()}};c.prototype={constructor:c,setInitialState:function(){var a=this.$radio,c=(this.$label,a.prop("checked")),d=a.prop("disabled");this.setCheckedState(a,c),this.setDisabledState(a,d)},resetGroup:function(){a('input[name="'+this.groupName+'"]').each(function(b,c){var d=a(c),e=d.parent(),f=d.attr("data-toggle"),g=a(f);e.removeClass("checked"),g.addClass("hidden")})},setCheckedState:function(b,c){var d=b,e=d.parent(),f=d.attr("data-toggle"),g=a(f);c?(this.resetGroup(),d.prop("checked",!0),e.addClass("checked"),g.removeClass("hide hidden"),e.trigger("checked.fu.radio")):(d.prop("checked",!1),e.removeClass("checked"),g.addClass("hidden"),e.trigger("unchecked.fu.radio")),e.trigger("changed.fu.radio",c)},setDisabledState:function(a,b){var d=this.$label;b?(this.$radio.prop("disabled",!0),d.addClass("disabled"),d.trigger("disabled.fu.radio")):(this.$radio.prop("disabled",!1),d.removeClass("disabled"),d.trigger("enabled.fu.radio"))},itemchecked:function(b){var c=a(b.target);this.setCheckedState(c,!0)},check:function(){this.setCheckedState(this.$radio,!0)},uncheck:function(){this.setCheckedState(this.$radio,!1)},isChecked:function(){return this.$radio.prop("checked")},enable:function(){this.setDisabledState(this.$radio,!1)},disable:function(){this.setDisabledState(this.$radio,!0)},destroy:function(){return this.$label.remove(),this.$label[0].outerHTML}},c.prototype.getValue=c.prototype.isChecked,a.fn.radio=function(b){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.radio"),h="object"==typeof b&&b;g||f.data("fu.radio",g=new c(this,h)),"string"==typeof b&&(e=g[b].apply(g,d))});return void 0===e?f:e},a.fn.radio.defaults={},a.fn.radio.Constructor=c,a.fn.radio.noConflict=function(){return a.fn.radio=b,this},a(document).on("mouseover.fu.radio.data-api","[data-initialize=radio]",function(b){var c=a(b.target);c.data("fu.radio")||c.radio(c.data())}),a(function(){a("[data-initialize=radio]").each(function(){var b=a(this);b.data("fu.radio")||b.radio(b.data())})})}(a),function(a){var b=a.fn.search,c=function(b,c){this.$element=a(b),this.$repeater=a(b).closest(".repeater"),this.options=a.extend({},a.fn.search.defaults,c),"true"===this.$element.attr("data-searchOnKeyPress")&&(this.options.searchOnKeyPress=!0),this.$button=this.$element.find("button"),this.$input=this.$element.find("input"),this.$icon=this.$element.find(".glyphicon, .fuelux-icon"),this.$button.on("click.fu.search",a.proxy(this.buttonclicked,this)),this.$input.on("keyup.fu.search",a.proxy(this.keypress,this)),this.$repeater.length>0&&this.$repeater.on("rendered.fu.repeater",a.proxy(this.clearPending,this)),this.activeSearch=""};c.prototype={constructor:c,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){a(this).attr("value",a(this).val())}),this.$element[0].outerHTML},search:function(a){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-search").addClass("glyphicon-remove"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-search").addClass("fuelux-icon-remove"),this.activeSearch=a,this.$element.addClass("searched pending"),this.$element.trigger("searched.fu.search",a)},clear:function(){this.$icon.hasClass("glyphicon")&&this.$icon.removeClass("glyphicon-remove").addClass("glyphicon-search"),this.$icon.hasClass("fuelux-icon")&&this.$icon.removeClass("fuelux-icon-remove").addClass("fuelux-icon-search"),this.$element.hasClass("pending")&&this.$element.trigger("canceled.fu.search"),this.activeSearch="",this.$input.val(""),this.$element.trigger("cleared.fu.search"),this.$element.removeClass("searched pending")},clearPending:function(){this.$element.removeClass("pending")},action:function(){var a=this.$input.val();a&&a.length>0?this.search(a):this.clear()},buttonclicked:function(b){b.preventDefault(),a(b.currentTarget).is(".disabled, :disabled")||(this.$element.hasClass("pending")||this.$element.hasClass("searched")?this.clear():this.action())},keypress:function(a){13===a.which?(a.preventDefault(),this.action()):9===a.which?a.preventDefault():27===a.which?(a.preventDefault(),this.clear()):this.options.searchOnKeyPress&&this.action()},disable:function(){this.$element.addClass("disabled"),this.$input.attr("disabled","disabled"),this.options.allowCancel||this.$button.addClass("disabled")},enable:function(){this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$button.removeClass("disabled")}},a.fn.search=function(b){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.search"),h="object"==typeof b&&b;g||f.data("fu.search",g=new c(this,h)),"string"==typeof b&&(e=g[b].apply(g,d))});return void 0===e?f:e},a.fn.search.defaults={clearOnEmpty:!1,searchOnKeyPress:!1,allowCancel:!1},a.fn.search.Constructor=c,a.fn.search.noConflict=function(){return a.fn.search=b,this},a(document).on("mousedown.fu.search.data-api","[data-initialize=search]",function(b){var c=a(b.target).closest(".search");c.data("fu.search")||c.search(c.data())}),a(function(){a("[data-initialize=search]").each(function(){var b=a(this);b.data("fu.search")||b.search(b.data())})})}(a),function(a){var b=a.fn.selectlist,c=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.selectlist.defaults,c),this.$button=this.$element.find(".btn.dropdown-toggle"),this.$hiddenField=this.$element.find(".hidden-field"),this.$label=this.$element.find(".selected-label"),this.$dropdownMenu=this.$element.find(".dropdown-menu"),this.$element.on("click.fu.selectlist",".dropdown-menu a",a.proxy(this.itemClicked,this)),this.setDefaultSelection(),"auto"!==c.resize&&"auto"!==this.$element.attr("data-resize")||this.resize(),0===this.$dropdownMenu.children("li").length&&(this.disable(),this.doSelect(a(this.options.emptyLabelHTML))),this.$element.on("shown.bs.dropdown",function(){var b=a(this);a(document).on("keypress.fu.selectlist",function(c){var d=String.fromCharCode(c.which);b.find("li").each(function(b,c){if(a(c).text().charAt(0).toLowerCase()===d)return a(c).children("a").focus(),!1})})}),this.$element.on("hide.bs.dropdown",function(){a(document).off("keypress.fu.selectlist")})};c.prototype={constructor:c,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},doSelect:function(b){var c;this.$selectedItem=c=b,this.$hiddenField.val(this.$selectedItem.attr("data-value")),this.$label.html(a(this.$selectedItem.children()[0]).html()),this.$element.find("li").each(function(){c.is(a(this))?a(this).attr("data-selected",!0):a(this).removeData("selected").removeAttr("data-selected")})},itemClicked:function(b){this.$element.trigger("clicked.fu.selectlist",this.$selectedItem),b.preventDefault(),a(b.currentTarget).parent("li").is(".disabled, :disabled")||(a(b.target).parent().is(this.$selectedItem)||this.itemChanged(b),this.$element.find(".dropdown-toggle").focus())},itemChanged:function(b){this.doSelect(a(b.target).closest("li"));var c=this.selectedItem();this.$element.trigger("changed.fu.selectlist",c)},resize:function(){var b=0,c=0,d=a("<div/>").addClass("selectlist-sizer");Boolean(a(document).find("html").hasClass("fuelux"))?a(document.body).append(d):a(".fuelux:first").append(d),d.append(this.$element.clone()),this.$element.find("a").each(function(){d.find(".selected-label").text(a(this).text()),c=d.find(".selectlist").outerWidth(),(c+=d.find(".sr-only").outerWidth())>b&&(b=c)}),b<=1||(this.$button.css("width",b),this.$dropdownMenu.css("width",b),d.remove())},selectedItem:function(){var b=this.$selectedItem.text();return a.extend({text:b},this.$selectedItem.data())},selectByText:function(b){var c=a([]);this.$element.find("li").each(function(){if((this.textContent||this.innerText||a(this).text()||"").toLowerCase()===(b||"").toLowerCase())return c=a(this),!1}),this.doSelect(c)},selectByValue:function(a){var b='li[data-value="'+a+'"]';this.selectBySelector(b)},selectByIndex:function(a){var b="li:eq("+a+")";this.selectBySelector(b)},selectBySelector:function(a){var b=this.$element.find(a);this.doSelect(b)},setDefaultSelection:function(){var a=this.$element.find("li[data-selected=true]").eq(0);0===a.length&&(a=this.$element.find("li").has("a").eq(0)),this.doSelect(a)},enable:function(){this.$element.removeClass("disabled"),this.$button.removeClass("disabled")},disable:function(){this.$element.addClass("disabled"),this.$button.addClass("disabled")}},c.prototype.getValue=c.prototype.selectedItem,a.fn.selectlist=function(b){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.selectlist"),h="object"==typeof b&&b;g||f.data("fu.selectlist",g=new c(this,h)),"string"==typeof b&&(e=g[b].apply(g,d))});return void 0===e?f:e},a.fn.selectlist.defaults={emptyLabelHTML:'<li data-value=""><a href="#">No items</a></li>'},a.fn.selectlist.Constructor=c,a.fn.selectlist.noConflict=function(){return a.fn.selectlist=b,this},a(document).on("mousedown.fu.selectlist.data-api","[data-initialize=selectlist]",function(b){var c=a(b.target).closest(".selectlist");c.data("fu.selectlist")||c.selectlist(c.data())}),a(function(){a("[data-initialize=selectlist]").each(function(){var b=a(this);b.data("fu.selectlist")||b.selectlist(b.data())})})}(a),function(a){var b=a.fn.spinbox,c=function(c,d){this.$element=a(c),this.$element.find(".btn").on("click",function(a){a.preventDefault()}),this.options=a.extend({},a.fn.spinbox.defaults,d),this.options.step=this.$element.data("step")||this.options.step,this.options.value<this.options.min?this.options.value=this.options.min:this.options.max<this.options.value&&(this.options.value=this.options.max),this.$input=this.$element.find(".spinbox-input"),this.$input.on("focusout.fu.spinbox",this.$input,a.proxy(this.change,this)),this.$element.on("keydown.fu.spinbox",this.$input,a.proxy(this.keydown,this)),this.$element.on("keyup.fu.spinbox",this.$input,a.proxy(this.keyup,this)),this.options.hold?(this.$element.on("mousedown.fu.spinbox",".spinbox-up",a.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup.fu.spinbox",".spinbox-up, .spinbox-down",a.proxy(this.stopSpin,this)),this.$element.on("mouseout.fu.spinbox",".spinbox-up, .spinbox-down",a.proxy(this.stopSpin,this)),this.$element.on("mousedown.fu.spinbox",".spinbox-down",a.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click.fu.spinbox",".spinbox-up",a.proxy(function(){this.step(!0)},this)),this.$element.on("click.fu.spinbox",".spinbox-down",a.proxy(function(){this.step(!1)},this))),this.switches={count:1,enabled:!0},"medium"===this.options.speed?this.switches.speed=300:"fast"===this.options.speed?this.switches.speed=100:this.switches.speed=500,this.options.defaultUnit=e(this.options.defaultUnit,this.options.units)?this.options.defaultUnit:"",this.unit=this.options.defaultUnit,this.lastValue=this.options.value,this.render(),this.options.disabled&&this.disable()},d=function(b,c){return Math.round(b/c)*c},e=function(c,d){var e=!1,f=c.toLowerCase();return a.each(d,function(a,b){if(b=b.toLowerCase(),f===b)return e=!0,!1}),e},f=function(b){return isNaN(parseFloat(b))?b:(b>this.options.max?b=this.options.cycle?this.options.min:this.options.max:b<this.options.min&&(b=this.options.cycle?this.options.max:this.options.min),this.options.limitToStep&&this.options.step&&(b=d(b,this.options.step),b>this.options.max?b-=this.options.step:b<this.options.min&&(b+=this.options.step)),b)};c.prototype={constructor:c,destroy:function(){return this.$element.remove(),this.$element.find("input").each(function(){a(this).attr("value",a(this).val())}),this.$element[0].outerHTML},render:function(){this._setValue(this.getDisplayValue())},change:function(){this._setValue(this.getDisplayValue()),this.triggerChangedEvent()},stopSpin:function(){void 0!==this.switches.timeout&&(clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent())},triggerChangedEvent:function(){var b=this.getValue();b!==this.lastValue&&(this.lastValue=b,this.$element.trigger("changed.fu.spinbox",b))},startSpin:function(c){if(!this.options.disabled){var d=this.switches.count;1===d?(this.step(c),d=1):d=d<3?1.5:d<8?2.5:4,this.switches.timeout=setTimeout(a.proxy(function(){this.iterate(c)},this),this.switches.speed/d),this.switches.count++}},iterate:function(b){this.step(b),this.startSpin(b)},step:function(b){this._setValue(this.getDisplayValue());var c;c=b?this.options.value+this.options.step:this.options.value-this.options.step,c=c.toFixed(5),this._setValue(c+this.unit)},getDisplayValue:function(){var b=this.parseInput(this.$input.val());return b||this.options.value},setDisplayValue:function(b){this.$input.val(b)},getValue:function(){var b=this.options.value;return"."!==this.options.decimalMark&&(b=(b+"").split(".").join(this.options.decimalMark)),b+this.unit},setValue:function(b){return this._setValue(b,!0)},_setValue:function(b,c){if("."!==this.options.decimalMark&&(b=this.parseInput(b)),"number"!=typeof b){var d=b.replace(/[0-9.-]/g,"");this.unit=e(d,this.options.units)?d:this.options.defaultUnit}var g=this.getIntValue(b);return isNaN(g)&&!isFinite(g)?this._setValue(this.options.value,c):(g=f.call(this,g),this.options.value=g,b=g+this.unit,"."!==this.options.decimalMark&&(b=(b+"").split(".").join(this.options.decimalMark)),this.setDisplayValue(b),c&&(this.lastValue=b),this)},value:function(b){return b||0===b?this.setValue(b):this.getValue()},parseInput:function(b){return b=(b+"").split(this.options.decimalMark).join(".")},getIntValue:function(b){if(void 0!==(b=void 0===b?this.getValue():b))return"string"==typeof b&&(b=this.parseInput(b)),b=parseFloat(b,10)},disable:function(){this.options.disabled=!0,this.$element.addClass("disabled"),this.$input.attr("disabled",""),this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=!1,this.$element.removeClass("disabled"),this.$input.removeAttr("disabled"),this.$element.find("button").removeClass("disabled")},keydown:function(b){var c=b.keyCode;38===c?this.step(!0):40===c?this.step(!1):13===c&&this.change()},keyup:function(b){var c=b.keyCode;38!==c&&40!==c||this.triggerChangedEvent()}},a.fn.spinbox=function(d){var f,e=Array.prototype.slice.call(arguments,1),g=this.each(function(){var b=a(this),g=b.data("fu.spinbox"),h="object"==typeof d&&d;g||b.data("fu.spinbox",g=new c(this,h)),"string"==typeof d&&(f=g[d].apply(g,e))});return void 0===f?g:f},a.fn.spinbox.defaults={value:0,min:0,max:999,step:1,hold:!0,speed:"medium",disabled:!1,cycle:!1,units:[],decimalMark:".",defaultUnit:"",limitToStep:!1},a.fn.spinbox.Constructor=c,a.fn.spinbox.noConflict=function(){return a.fn.spinbox=b,this},a(document).on("mousedown.fu.spinbox.data-api","[data-initialize=spinbox]",function(b){var c=a(b.target).closest(".spinbox");c.data("fu.spinbox")||c.spinbox(c.data())}),a(function(){a("[data-initialize=spinbox]").each(function(){var b=a(this);b.data("fu.spinbox")||b.spinbox(b.data())})})}(a),function(a){function d(a,b){a.addClass("tree-selected"),"item"===a.data("type")&&b.hasClass("fueluxicon-bullet")&&b.removeClass("fueluxicon-bullet").addClass("glyphicon-ok")}function e(a,b){a.removeClass("tree-selected"),"item"===a.data("type")&&b.hasClass("glyphicon-ok")&&b.removeClass("glyphicon-ok").addClass("fueluxicon-bullet")}function f(b,c,f){a.each(f.$elements,function(b,d){var e=a(d);e[0]!==c.$element[0]&&f.dataForEvent.push(a(e).data())}),c.$element.hasClass("tree-selected")?(e(c.$element,c.$icon),f.eventType="deselected"):(d(c.$element,c.$icon),f.eventType="selected",f.dataForEvent.push(c.elementData))}function g(a,b,c){if(c.$elements[0]!==b.$element[0]){a.deselectAll(a.$element);d(b.$element,b.$icon),c.eventType="selected",c.dataForEvent=[b.elementData]}else e(b.$element,b.$icon),c.eventType="deselected",c.dataForEvent=[]}var b=a.fn.tree,c=function(c,d){this.$element=a(c),this.options=a.extend({},a.fn.tree.defaults,d),this.options.itemSelect&&this.$element.on("click.fu.tree",".tree-item",a.proxy(function(a){this.selectItem(a.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-branch-name",a.proxy(function(a){this.toggleFolder(a.currentTarget)},this)),this.$element.on("click.fu.tree",".tree-overflow",a.proxy(function(b){this.populate(a(b.currentTarget))},this)),this.options.folderSelect&&(this.$element.addClass("tree-folder-select"),this.$element.off("click.fu.tree",".tree-branch-name"),this.$element.on("click.fu.tree",".icon-caret",a.proxy(function(b){this.toggleFolder(a(b.currentTarget).parent())},this)),this.$element.on("click.fu.tree",".tree-branch-name",a.proxy(function(b){this.selectFolder(a(b.currentTarget))},this))),this.render()};c.prototype={constructor:c,deselectAll:function(c){c=c||this.$element;var d=a(c).find(".tree-selected");return d.each(function(b,c){e(a(c),a(c).find(".glyphicon"))}),d},destroy:function(){return this.$element.find("li:not([data-template])").remove(),this.$element.remove(),this.$element[0].outerHTML},render:function(){this.populate(this.$element)},populate:function(c,d){var e=this,f=c.hasClass("tree-overflow"),g=c.hasClass("tree")?c:c.parent(),h=g.hasClass("tree");f&&!h&&(g=g.parent());var i=g.data();f&&(i.overflow=c.data()),d=d||!1,f&&(h?c.replaceWith(g.find("> .tree-loader").remove()):c.remove());var j=g.find(".tree-loader:last");!1===d&&j.removeClass("hide hidden"),this.options.dataSource(i||{},function(b){a.each(b.data,function(b,c){var d;"folder"===c.type?(d=e.$element.find("[data-template=treebranch]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),d.data(c),d.find(".tree-branch-name > .tree-label").html(c.text||c.name)):"item"===c.type?(d=e.$element.find("[data-template=treeitem]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),d.find(".tree-item-name > .tree-label").html(c.text||c.name),d.data(c)):"overflow"===c.type&&(d=e.$element.find("[data-template=treeoverflow]:eq(0)").clone().removeClass("hide hidden").removeData("template").removeAttr("data-template"),d.find(".tree-overflow-name > .tree-label").html(c.text||c.name),d.data(c));var f=c.attr||c.dataAttributes||[];a.each(f,function(a,b){switch(a){case"cssClass":case"class":case"className":d.addClass(b);break;case"data-icon":d.find(".icon-item").removeClass().addClass("icon-item "+b),d.attr(a,b);break;case"id":d.attr(a,b),d.attr("aria-labelledby",b+"-label"),d.find(".tree-branch-name > .tree-label").attr("id",b+"-label");break;default:d.attr(a,b)}}),h?g.append(d):g.find(".tree-branch-children:eq(0)").append(d)}),g.find(".tree-loader").addClass("hidden"),e.$element.trigger("loaded.fu.tree",g)})},selectTreeNode:function(c,d){var e={};e.$element=a(c);var h={};h.$elements=this.$element.find(".tree-selected"),h.dataForEvent=[],"folder"===d?(e.$element=e.$element.closest(".tree-branch"),e.$icon=e.$element.find(".icon-folder")):e.$icon=e.$element.find(".icon-item"),e.elementData=e.$element.data(),this.options.multiSelect?f(this,e,h):g(this,e,h),this.$element.trigger(h.eventType+".fu.tree",{target:e.elementData,selected:h.dataForEvent}),e.$element.trigger("updated.fu.tree",{selected:h.dataForEvent,item:e.$element,eventType:h.eventType})},discloseFolder:function(c){var d=a(c),e=d.closest(".tree-branch"),f=e.find(".tree-branch-children"),g=f.eq(0);e.addClass("tree-open"),e.attr("aria-expanded","true"),g.removeClass("hide hidden"),e.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-close").addClass("glyphicon-folder-open"),f.children().length||this.populate(f),this.$element.trigger("disclosedFolder.fu.tree",e.data())},closeFolder:function(c){var d=a(c),e=d.closest(".tree-branch"),f=e.find(".tree-branch-children"),g=f.eq(0);e.removeClass("tree-open"),e.attr("aria-expanded","false"),g.addClass("hidden"),e.find("> .tree-branch-header .icon-folder").eq(0).removeClass("glyphicon-folder-open").addClass("glyphicon-folder-close"),this.options.cacheItems||g.empty(),this.$element.trigger("closed.fu.tree",e.data())},toggleFolder:function(c){var d=a(c);d.find(".glyphicon-folder-close").length?this.discloseFolder(c):d.find(".glyphicon-folder-open").length&&this.closeFolder(c)},selectFolder:function(b){this.options.folderSelect&&this.selectTreeNode(b,"folder")},selectItem:function(b){this.options.itemSelect&&this.selectTreeNode(b,"item")},selectedItems:function(){var c=this.$element.find(".tree-selected"),d=[];return a.each(c,function(b,c){d.push(a(c).data())}),d},collapse:function(){var b=this,c=[],d=function a(d,e){c.push(e),0===b.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").length&&(b.$element.trigger("closedAll.fu.tree",{tree:b.$element,reportedClosed:c}),b.$element.off("loaded.fu.tree",b.$element,a))};b.$element.on("closed.fu.tree",d),b.$element.find(".tree-branch.tree-open:not('.hidden, .hide')").each(function(){b.closeFolder(this)})},discloseVisible:function(){var c=this,d=c.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')"),e=[],f=function a(b,f){e.push(f),e.length===d.length&&(c.$element.trigger("disclosedVisible.fu.tree",{tree:c.$element,reportedOpened:e}),c.$element.off("loaded.fu.tree",c.$element,a))};c.$element.on("loaded.fu.tree",f),c.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").each(function(){c.discloseFolder(a(this).find(".tree-branch-header"))})},discloseAll:function(){var b=this;void 0===b.$element.data("disclosures")&&b.$element.data("disclosures",0);var c=b.options.disclosuresUpperLimit>=1&&b.$element.data("disclosures")>=b.options.disclosuresUpperLimit;if(0===b.$element.find(".tree-branch:not('.tree-open, .hidden, .hide')").length)b.$element.trigger("disclosedAll.fu.tree",{tree:b.$element,disclosures:b.$element.data("disclosures")}),b.options.cacheItems||b.$element.one("closeAll.fu.tree",function(){b.$element.data("disclosures",0)});else{if(c&&(b.$element.trigger("exceededDisclosuresLimit.fu.tree",{tree:b.$element,disclosures:b.$element.data("disclosures")}),!b.$element.data("ignore-disclosures-limit")))return;b.$element.data("disclosures",b.$element.data("disclosures")+1),b.$element.one("disclosedVisible.fu.tree",function(){b.discloseAll()}),b.discloseVisible()}},refreshFolder:function(b){var c=b.closest(".tree-branch"),d=c.find(".tree-branch-children");d.eq(0).empty(),c.hasClass("tree-open")?this.populate(d,!1):this.populate(d,!0),this.$element.trigger("refreshedFolder.fu.tree",c.data())}},c.prototype.closeAll=c.prototype.collapse,c.prototype.openFolder=c.prototype.discloseFolder,c.prototype.getValue=c.prototype.selectedItems,a.fn.tree=function(d){var f,e=Array.prototype.slice.call(arguments,1),g=this.each(function(){var b=a(this),g=b.data("fu.tree"),h="object"==typeof d&&d;g||b.data("fu.tree",g=new c(this,h)),"string"==typeof d&&(f=g[d].apply(g,e))});return void 0===f?g:f},a.fn.tree.defaults={dataSource:function(b,c){},multiSelect:!1,cacheItems:!0,folderSelect:!0,itemSelect:!0,disclosuresUpperLimit:0},a.fn.tree.Constructor=c,a.fn.tree.noConflict=function(){return a.fn.tree=b,this}}(a),function(a){var b={BACKSPACE_KEYCODE:8,COMMA_KEYCODE:188,DELETE_KEYCODE:46,DOWN_ARROW_KEYCODE:40,ENTER_KEYCODE:13,TAB_KEYCODE:9,UP_ARROW_KEYCODE:38},c=function(b){return!0===b.shiftKey},d=function(b){return function(c){return c.keyCode===b}},e=d(b.BACKSPACE_KEYCODE),f=d(b.DELETE_KEYCODE),g=d(b.TAB_KEYCODE),h=d(b.UP_ARROW_KEYCODE),i=d(b.DOWN_ARROW_KEYCODE),j=/<.*>/,k=function(c){var d=c;return j.test(d)&&(d=a("<i>").text(c).html()),d};a.fn.utilities={CONST:b,cleanInput:k,isBackspaceKey:e,isDeleteKey:f,isShiftHeld:c,isTabKey:g,isUpArrow:h,isDownArrow:i}}(a),function(a){var b=a.fn.wizard,c=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.wizard.defaults,c),this.options.disablePreviousStep="previous"===this.$element.attr("data-restrict")||this.options.disablePreviousStep,this.currentStep=this.options.selectedItem.step,this.numSteps=this.$element.find(".steps li").length,this.$prevBtn=this.$element.find("button.btn-prev"),this.$nextBtn=this.$element.find("button.btn-next");var d=this.$nextBtn.children().detach();this.nextText=a.trim(this.$nextBtn.text()),this.$nextBtn.append(d);var e=this.$element.children(".steps-container");0===e.length&&(e=this.$element,this.$element.addClass("no-steps-container"),window&&window.console&&window.console.warn&&window.console.warn('please update your wizard markup to include ".steps-container" as seen in http://getfuelux.com/javascript.html#wizard-usage-markup')),e=e.find(".steps"),this.$prevBtn.on("click.fu.wizard",a.proxy(this.previous,this)),this.$nextBtn.on("click.fu.wizard",a.proxy(this.next,this)),e.on("click.fu.wizard","li.complete",a.proxy(this.stepclicked,this)),this.selectedItem(this.options.selectedItem),this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".steps").addClass("previous-disabled"))};c.prototype={constructor:c,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},addSteps:function(b){var f,g,h,i,j,k,c=[].slice.call(arguments).slice(1),d=this.$element.find(".steps"),e=this.$element.find(".step-content");for(b=-1===b||b>this.numSteps+1?this.numSteps+1:b,c[0]instanceof Array&&(c=c[0]),j=d.find("li:nth-child("+b+")"),i=e.find(".step-pane:nth-child("+b+")"),j.length<1&&(j=null),f=0,g=c.length;f<g;f++)k=a('<li data-step="'+b+'"><span class="badge badge-info"></span></li>'),k.append(c[f].label||"").append('<span class="chevron"></span>'),k.find(".badge").append(c[f].badge||b),h=a('<div class="step-pane" data-step="'+b+'"></div>'),h.append(c[f].pane||""),j?(j.before(k),i.before(h)):(d.append(k),e.append(h)),b++;this.syncSteps(),this.numSteps=d.find("li").length,this.setState()},removeSteps:function(b,c){var h,d="nextAll",e=0,f=this.$element.find(".steps"),g=this.$element.find(".step-content");c=void 0!==c?c:1,b>f.find("li").length?h=f.find("li:last"):(h=f.find("li:nth-child("+b+")").prev(),h.length<1&&(d="children",h=f)),h[d]().each(function(){var b=a(this),d=b.attr("data-step");if(!(e<c))return!1;b.remove(),g.find('.step-pane[data-step="'+d+'"]:first').remove(),e++}),this.syncSteps(),this.numSteps=f.find("li").length,this.setState()},setState:function(){var b=this.currentStep>1,c=1===this.currentStep,d=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",!0===c||!1===b);var e=this.$nextBtn.attr("data-last");if(e){this.lastText=e;var f=this.nextText;!0===d?(f=this.lastText,this.$element.addClass("complete")):this.$element.removeClass("complete");var g=this.$nextBtn.children().detach();this.$nextBtn.text(f).append(g)}var h=this.$element.find(".steps li");h.removeClass("active").removeClass("complete"),h.find("span.badge").removeClass("badge-info").removeClass("badge-success");var i=".steps li:lt("+(this.currentStep-1)+")",j=this.$element.find(i);j.addClass("complete"),j.find("span.badge").addClass("badge-success");var k=".steps li:eq("+(this.currentStep-1)+")",l=this.$element.find(k);l.addClass("active"),l.find("span.badge").addClass("badge-info");var m=this.$element.find(".step-content"),n=l.attr("data-step");m.find(".step-pane").removeClass("active"),m.find('.step-pane[data-step="'+n+'"]:first').addClass("active"),this.$element.find(".steps").first().attr("style","margin-left: 0");var o=0;this.$element.find(".steps > li").each(function(){o+=a(this).outerWidth()});var p=0;if(p=this.$element.find(".actions").length?this.$element.width()-this.$element.find(".actions").first().outerWidth():this.$element.width(),o>p){var q=o-p;this.$element.find(".steps").first().attr("style","margin-left: -"+q+"px"),this.$element.find("li.active").first().position().left<200&&(q+=this.$element.find("li.active").first().position().left-200,q<1?this.$element.find(".steps").first().attr("style","margin-left: 0"):this.$element.find(".steps").first().attr("style","margin-left: -"+q+"px"))}if(void 0!==this.initialized){var r=a.Event("changed.fu.wizard");this.$element.trigger(r,{step:this.currentStep})}this.initialized=!0},stepclicked:function(b){var c=a(b.currentTarget),d=this.$element.find(".steps li").index(c);if(!(d<this.currentStep&&this.options.disablePreviousStep)){var e=a.Event("stepclicked.fu.wizard");this.$element.trigger(e,{step:d+1}),e.isDefaultPrevented()||(this.currentStep=d+1,this.setState())}},syncSteps:function(){var b=1,c=this.$element.find(".steps"),d=this.$element.find(".step-content");c.children().each(function(){var c=a(this),e=c.find(".badge"),f=c.attr("data-step");isNaN(parseInt(e.html(),10))||e.html(b),c.attr("data-step",b),d.find('.step-pane[data-step="'+f+'"]:last').attr("data-step",b),b++})},previous:function(){if(!this.options.disablePreviousStep&&1!==this.currentStep){var b=a.Event("actionclicked.fu.wizard");if(this.$element.trigger(b,{step:this.currentStep,direction:"previous"}),!b.isDefaultPrevented()&&(this.currentStep-=1,this.setState(),this.$prevBtn.is(":focus"))){var c=this.$element.find(".active").find("input, select, textarea")[0];void 0!==c?a(c).focus():0===this.$element.find(".active input:first").length&&this.$prevBtn.is(":disabled")&&this.$nextBtn.focus()}}},next:function(){var b=a.Event("actionclicked.fu.wizard");if(this.$element.trigger(b,{step:this.currentStep,direction:"next"}),!b.isDefaultPrevented()&&(this.currentStep<this.numSteps?(this.currentStep+=1,this.setState()):this.$element.trigger("finished.fu.wizard"),this.$nextBtn.is(":focus"))){var c=this.$element.find(".active").find("input, select, textarea")[0];void 0!==c?a(c).focus():0===this.$element.find(".active input:first").length&&this.$nextBtn.is(":disabled")&&this.$prevBtn.focus()}},selectedItem:function(a){var b,c;return a?(c=a.step||-1,c=Number(this.$element.find('.steps li[data-name="'+c+'"]').first().attr("data-step"))||Number(c),1<=c&&c<=this.numSteps?(this.currentStep=c,this.setState()):(c=this.$element.find(".steps li.active:first").attr("data-step"),isNaN(c)||(this.currentStep=parseInt(c,10),this.setState())),b=this):(b={step:this.currentStep},this.$element.find(".steps li.active:first[data-name]").length&&(b.stepname=this.$element.find(".steps li.active:first").attr("data-name"))),b}},a.fn.wizard=function(b){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.wizard"),h="object"==typeof b&&b;g||f.data("fu.wizard",g=new c(this,h)),"string"==typeof b&&(e=g[b].apply(g,d))});return void 0===e?f:e},a.fn.wizard.defaults={disablePreviousStep:!1,selectedItem:{step:-1}},a.fn.wizard.Constructor=c,a.fn.wizard.noConflict=function(){return a.fn.wizard=b,this},a(document).on("mouseover.fu.wizard.data-api","[data-initialize=wizard]",function(b){var c=a(b.target).closest(".wizard");c.data("fu.wizard")||c.wizard(c.data())}),a(function(){a("[data-initialize=wizard]").each(function(){var b=a(this);b.data("fu.wizard")||b.wizard(b.data())})})}(a),function(a){var b=a.fn.infinitescroll,c=function(b,c){this.$element=a(b),this.$element.addClass("infinitescroll"),this.options=a.extend({},a.fn.infinitescroll.defaults,c),this.curScrollTop=this.$element.scrollTop(),this.curPercentage=this.getPercentage(),this.fetchingData=!1,this.$element.on("scroll.fu.infinitescroll",a.proxy(this.onScroll,this)),this.onScroll()};c.prototype={constructor:c,destroy:function(){return this.$element.remove(),this.$element.empty(),this.$element[0].outerHTML},disable:function(){this.$element.off("scroll.fu.infinitescroll")},enable:function(){this.$element.on("scroll.fu.infinitescroll",a.proxy(this.onScroll,this))},end:function(b){var c=a('<div class="infinitescroll-end"></div>');b?c.append(b):c.append("---------"),this.$element.append(c),this.disable()},getPercentage:function(){var a="border-box"===this.$element.css("box-sizing")?this.$element.outerHeight():this.$element.height(),b=this.$element.get(0).scrollHeight;return b>a?a/(b-this.curScrollTop)*100:0},fetchData:function(b){var e,c=a('<div class="infinitescroll-load"></div>'),d=this,f=function(){var b={percentage:d.curPercentage,scrollTop:d.curScrollTop},e=a('<div class="loader"></div>');c.append(e),e.loader(),d.options.dataSource&&d.options.dataSource(b,function(a){var b;c.remove(),a.content&&d.$element.append(a.content),a.end&&(b=!0!==a.end?a.end:void 0,d.end(b)),d.fetchingData=!1})};this.fetchingData=!0,this.$element.append(c),this.options.hybrid&&!0!==b?(e=a('<button type="button" class="btn btn-primary"></button>'),"object"==typeof this.options.hybrid?e.append(this.options.hybrid.label):e.append('<span class="glyphicon glyphicon-repeat"></span>'),e.on("click.fu.infinitescroll",function(){e.remove(),f()}),c.append(e)):f()},onScroll:function(a){this.curScrollTop=this.$element.scrollTop(),this.curPercentage=this.getPercentage(),!this.fetchingData&&this.curPercentage>=this.options.percentage&&this.fetchData()}},a.fn.infinitescroll=function(b){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.infinitescroll"),h="object"==typeof b&&b;g||f.data("fu.infinitescroll",g=new c(this,h)),"string"==typeof b&&(e=g[b].apply(g,d))});return void 0===e?f:e},a.fn.infinitescroll.defaults={dataSource:null,hybrid:!1,percentage:95},a.fn.infinitescroll.Constructor=c,a.fn.infinitescroll.noConflict=function(){return a.fn.infinitescroll=b,this}}(a),function(a){var b=a.fn.pillbox,c=a.fn.utilities,d=a.fn.utilities.CONST,e=d.COMMA_KEYCODE,f=d.ENTER_KEYCODE,g=c.isBackspaceKey,h=c.isDeleteKey,i=c.isTabKey,j=c.isUpArrow,k=c.isDownArrow,l=c.cleanInput,m=c.isShiftHeld,n=function(c,d){this.$element=a(c),this.$moreCount=this.$element.find(".pillbox-more-count"),this.$pillGroup=this.$element.find(".pill-group"),this.$addItem=this.$element.find(".pillbox-add-item"),this.$addItemWrap=this.$addItem.parent(),this.$suggest=this.$element.find(".suggest"),this.$pillHTML='<li class="btn btn-default pill">\t<span></span>\t<span class="glyphicon glyphicon-close">\t\t<span class="sr-only">Remove</span>\t</span></li>',this.options=a.extend({},a.fn.pillbox.defaults,d),-1===this.options.readonly?void 0!==this.$element.attr("data-readonly")&&this.readonly(!0):this.options.readonly&&this.readonly(!0),this.acceptKeyCodes=this._generateObject(this.options.acceptKeyCodes),this.$element.on("click.fu.pillbox",".pill-group > .pill",a.proxy(this.itemClicked,this)),this.$element.on("click.fu.pillbox",a.proxy(this.inputFocus,this)),this.$element.on("keydown.fu.pillbox",".pillbox-add-item",a.proxy(this.inputEvent,this)),this.options.onKeyDown&&this.$element.on("mousedown.fu.pillbox",".suggest > li",a.proxy(this.suggestionClick,this)),this.options.edit&&(this.$element.addClass("pills-editable"),this.$element.on("blur.fu.pillbox",".pillbox-add-item",a.proxy(this.cancelEdit,this))),this.$element.on("blur.fu.pillbox",".pillbox-add-item",a.proxy(this.inputEvent,this))};n.prototype={constructor:n,destroy:function(){return this.$element.remove(),this.$element[0].outerHTML},items:function(){var c=this;return this.$pillGroup.children(".pill").map(function(){return c.getItemData(a(this))}).get()},itemClicked:function(c){var e,d=a(c.target);if(c.preventDefault(),c.stopPropagation(),this._closeSuggestions(),d.hasClass("pill"))e=d;else if(e=d.parent(),void 0===this.$element.attr("data-readonly")){if(d.hasClass("glyphicon-close"))return this.options.onRemove?this.options.onRemove(this.getItemData(e,{el:e}),a.proxy(this._removeElement,this)):this._removeElement(this.getItemData(e,{el:e})),!1;if(this.options.edit){if(e.find(".pillbox-list-edit").length)return!1;this.openEdit(e)}}return this.$element.trigger("clicked.fu.pillbox",this.getItemData(e)),!0},readonly:function(b){b?this.$element.attr("data-readonly","readonly"):this.$element.removeAttr("data-readonly"),this.options.truncate&&this.truncate(b)},suggestionClick:function(c){var d=a(c.currentTarget),e={text:d.html(),value:d.data("value")};c.preventDefault(),this.$addItem.val(""),d.data("attr")&&(e.attr=JSON.parse(d.data("attr"))),e.data=d.data("data"),this.addItems(e,!0),this._closeSuggestions()},itemCount:function(){return this.$pillGroup.children(".pill").length},addItems:function(){var d,e,f,c=this;!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(d=[].slice.call(arguments).slice(0),f=d[1]&&!d[1].text):(d=[].slice.call(arguments).slice(1),e=arguments[0]),d[0]instanceof Array&&(d=d[0]),d.length&&(a.each(d,function(b,e){var f={text:e.text,value:e.value?e.value:e.text,el:c.$pillHTML};e.attr&&(f.attr=e.attr),e.data&&(f.data=e.data),d[b]=f}),this.options.edit&&this.currentEdit&&(d[0].el=this.currentEdit.wrap("<div></div>").parent().html()),f&&d.pop(1),c.options.onAdd&&f?this.options.edit&&this.currentEdit?c.options.onAdd(d[0],a.proxy(c.saveEdit,this)):c.options.onAdd(d[0],a.proxy(c.placeItems,this)):this.options.edit&&this.currentEdit?c.saveEdit(d):e?c.placeItems(e,d):c.placeItems(d,f))},removeItems:function(b,c){var d=this;if(b)for(var e=c||1,f=0;f<e;f++){var g=d.$pillGroup.find("> .pill:nth-child("+b+")");if(!g)break;g.remove()}else this.$pillGroup.find(".pill").remove(),this._removePillTrigger({method:"removeAll"})},placeItems:function(){var c,d,e,f;if(!isFinite(String(arguments[0]))||arguments[0]instanceof Array?(c=[].slice.call(arguments).slice(0),f=c[1]&&!c[1].text):(c=[].slice.call(arguments).slice(1),d=arguments[0]),c[0]instanceof Array&&(c=c[0]),c.length){var g=[];a.each(c,function(c,d){var e=a(d.el);e.attr("data-value",d.value),e.find("span:first").html(d.text),d.attr&&a.each(d.attr,function(b,c){"cssClass"===b||"class"===b?e.addClass(c):e.attr(b,c)}),d.data&&e.data("data",d.data),g.push(e)}),this.$pillGroup.children(".pill").length>0?d?(e=this.$pillGroup.find(".pill:nth-child("+d+")"),e.length?e.before(g):this.$pillGroup.children(".pill:last").after(g)):this.$pillGroup.children(".pill:last").after(g):this.$pillGroup.prepend(g),f&&this.$element.trigger("added.fu.pillbox",{text:c[0].text,value:c[0].value})}},inputEvent:function(b){var c=this,d=c.options.cleanInput(this.$addItem.val()),e="focusout"===b.type,f=e&&d.length>0;if(this.acceptKeyCodes[b.keyCode]&&!m(b)||f){var n,o;if(this.options.onKeyDown&&this._isSuggestionsOpen()){var p=this.$suggest.find(".pillbox-suggest-sel");p.length&&(d=c.options.cleanInput(p.html()),o=c.options.cleanInput(p.data("value")),n=p.data("attr"))}return(d.replace(/[ ]*\,[ ]*/,"").match(/\S/)||this.options.allowEmptyPills&&d.length)&&(this._closeSuggestions(),this.$addItem.hide().val(""),n?this.addItems({text:d,value:o,attr:JSON.parse(n)},!0):this.addItems({text:d,value:o},!0),setTimeout(function(){c.$addItem.show().attr({size:10}).focus()},0)),b.preventDefault(),!0}if(g(b)||h(b)){if(!d.length){if(b.preventDefault(),this.options.edit&&this.currentEdit)return this.cancelEdit(),!0;this._closeSuggestions();var q=this.$pillGroup.children(".pill:last");return q.hasClass("pillbox-highlight")?this._removeElement(this.getItemData(q,{el:q})):q.addClass("pillbox-highlight"),!0}}else d.length>10&&this.$addItem.width()<this.$pillGroup.width()-6&&this.$addItem.attr({size:d.length+3});if(this.$pillGroup.find(".pill").removeClass("pillbox-highlight"),this.options.onKeyDown&&!e){if(i(b)||j(b)||k(b))return this._isSuggestionsOpen()&&this._keySuggestions(b),!0;this.callbackId=b.timeStamp,this.options.onKeyDown({event:b,value:d},function(d){c._openSuggestions(b,d)})}return!0},openEdit:function(b){var c=b.index()+1,d=this.$addItemWrap.detach().hide();this.$pillGroup.find(".pill:nth-child("+c+")").before(d),this.currentEdit=b.detach(),d.addClass("editing"),this.$addItem.val(b.find("span:first").html()),d.show(),this.$addItem.focus().select()},cancelEdit:function(b){var c;return!!this.currentEdit&&(this._closeSuggestions(),b&&this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,c=this.$addItemWrap.detach(),c.removeClass("editing"),this.$addItem.val(""),this.$pillGroup.append(c),!0)},saveEdit:function(){var c=arguments[0][0]?arguments[0][0]:arguments[0];this.currentEdit=a(c.el),this.currentEdit.data("value",c.value),this.currentEdit.find("span:first").html(c.text),this.$addItemWrap.hide(),this.$addItemWrap.before(this.currentEdit),this.currentEdit=!1,this.$addItem.val(""),this.$addItemWrap.removeClass("editing"),this.$pillGroup.append(this.$addItemWrap.detach().show()),this.$element.trigger("edited.fu.pillbox",{value:c.value,text:c.text})},removeBySelector:function(){var c=[].slice.call(arguments).slice(0),d=this;a.each(c,function(b,c){d.$pillGroup.find(c).remove()}),this._removePillTrigger({method:"removeBySelector",removedSelectors:c})},removeByValue:function(){var c=[].slice.call(arguments).slice(0),d=this;a.each(c,function(b,c){d.$pillGroup.find('> .pill[data-value="'+c+'"]').remove()}),this._removePillTrigger({method:"removeByValue",removedValues:c})},removeByText:function(){var c=[].slice.call(arguments).slice(0),d=this;a.each(c,function(b,c){d.$pillGroup.find('> .pill:contains("'+c+'")').remove()}),this._removePillTrigger({method:"removeByText",removedText:c})},truncate:function(c){var d=this;if(this.$element.removeClass("truncate"),this.$addItemWrap.removeClass("truncated"),this.$pillGroup.find(".pill").removeClass("truncated"),c){this.$element.addClass("truncate");var e=this.$element.width(),f=!1,g=0,h=this.$pillGroup.find(".pill").length,i=0;this.$pillGroup.find(".pill").each(function(){var c=a(this);f?c.addClass("truncated"):(g++,d.$moreCount.text(h-g),i+c.outerWidth(!0)+d.$addItemWrap.outerWidth(!0)<=e?i+=c.outerWidth(!0):(d.$moreCount.text(h-g+1),c.addClass("truncated"),f=!0))}),g===h&&this.$addItemWrap.addClass("truncated")}},inputFocus:function(){this.$element.find(".pillbox-add-item").focus()},getItemData:function(c,d){return a.extend({text:c.find("span:first").html()},c.data(),d)},_removeElement:function(b){b.el.remove(),delete b.el,this.$element.trigger("removed.fu.pillbox",b)},_removePillTrigger:function(b){this.$element.trigger("removed.fu.pillbox",b)},_generateObject:function(c){var d={};return a.each(c,function(b,c){d[c]=!0}),d},_openSuggestions:function(c,d){var e=a("<ul>");return this.callbackId===c.timeStamp&&(d.data&&d.data.length&&(a.each(d.data,function(c,d){var f=d.value?d.value:d.text,g=a('<li data-value="'+f+'">'+d.text+"</li>");d.attr&&g.data("attr",JSON.stringify(d.attr)),d.data&&g.data("data",d.data),e.append(g)}),this.$suggest.html("").append(e.children()),a(document).trigger("suggested.fu.pillbox",this.$suggest)),!0)},_closeSuggestions:function(){this.$suggest.html("").parent().removeClass("open")},_isSuggestionsOpen:function(){return this.$suggest.parent().hasClass("open")},_keySuggestions:function(b){var c=this.$suggest.find("li.pillbox-suggest-sel"),d=j(b);if(b.preventDefault(),c.length){var e=d?c.prev():c.next();e.length||(e=d?this.$suggest.find("li:last"):this.$suggest.find("li:first")),e&&(e.addClass("pillbox-suggest-sel"),c.removeClass("pillbox-suggest-sel"))}else c=this.$suggest.find("li:first"),c.addClass("pillbox-suggest-sel")}},n.prototype.getValue=n.prototype.items,a.fn.pillbox=function(c){var e,d=Array.prototype.slice.call(arguments,1),f=this.each(function(){var f=a(this),g=f.data("fu.pillbox"),h="object"==typeof c&&c;g||f.data("fu.pillbox",g=new n(this,h)),"string"==typeof c&&(e=g[c].apply(g,d))});return void 0===e?f:e},a.fn.pillbox.defaults={edit:!1,readonly:-1,truncate:!1,acceptKeyCodes:[f,e],allowEmptyPills:!1,cleanInput:l},a.fn.pillbox.Constructor=n,a.fn.pillbox.noConflict=function(){return a.fn.pillbox=b,this},a(document).on("mousedown.fu.pillbox.data-api","[data-initialize=pillbox]",function(c){var d=a(c.target).closest(".pillbox");d.data("fu.pillbox")||d.pillbox(d.data())}),a(function(){a("[data-initialize=pillbox]").each(function(){var c=a(this);c.data("fu.pillbox")||c.pillbox(c.data())})})}(a),function(a){var b=a.fn.repeater,c=function(c,d){var f,g,e=this;this.$element=a(c),this.$canvas=this.$element.find(".repeater-canvas"),this.$count=this.$element.find(".repeater-count"),this.$end=this.$element.find(".repeater-end"),this.$filters=this.$element.find(".repeater-filters"),this.$loader=this.$element.find(".repeater-loader"),this.$pageSize=this.$element.find(".repeater-itemization .selectlist"),this.$nextBtn=this.$element.find(".repeater-next"),this.$pages=this.$element.find(".repeater-pages"),this.$prevBtn=this.$element.find(".repeater-prev"),this.$primaryPaging=this.$element.find(".repeater-primaryPaging"),this.$search=this.$element.find(".repeater-search").find(".search"),this.$secondaryPaging=this.$element.find(".repeater-secondaryPaging"),this.$start=this.$element.find(".repeater-start"),this.$viewport=this.$element.find(".repeater-viewport"),this.$views=this.$element.find(".repeater-views"),this.currentPage=0,this.currentView=null,this.isDisabled=!1,this.infiniteScrollingCallback=function(){},this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},this.lastPageInput=0,this.options=a.extend({},a.fn.repeater.defaults,d),this.pageIncrement=0,this.resizeTimeout={},this.stamp=(new Date).getTime()+(Math.floor(100*Math.random())+1),this.storedDataSourceOpts=null,this.syncingViewButtonState=!1,this.viewOptions={},this.viewType=null,this.$filters.selectlist(),this.$pageSize.selectlist(),this.$primaryPaging.find(".combobox").combobox(),this.$search.search({searchOnKeyPress:this.options.searchOnKeyPress,allowCancel:this.options.allowCancel}),this.$filters.on("changed.fu.selectlist",function(b,c){e.$element.trigger("filtered.fu.repeater",c),e.render({clearInfinite:!0,pageIncrement:null})}),this.$nextBtn.on("click.fu.repeater",a.proxy(this.next,this)),this.$pageSize.on("changed.fu.selectlist",function(b,c){e.$element.trigger("pageSizeChanged.fu.repeater",c),e.render({pageIncrement:null})}),this.$prevBtn.on("click.fu.repeater",a.proxy(this.previous,this)),this.$primaryPaging.find(".combobox").on("changed.fu.combobox",function(b,c){e.pageInputChange(c.text,c)}),this.$search.on("searched.fu.search cleared.fu.search",function(b,c){e.$element.trigger("searchChanged.fu.repeater",c),e.render({clearInfinite:!0,pageIncrement:null})}),this.$search.on("canceled.fu.search",function(b,c){e.$element.trigger("canceled.fu.repeater",c),e.render({clearInfinite:!0,pageIncrement:null})}),this.$secondaryPaging.on("blur.fu.repeater",function(){e.pageInputChange(e.$secondaryPaging.val())}),this.$secondaryPaging.on("keyup",function(b){13===b.keyCode&&e.pageInputChange(e.$secondaryPaging.val())}),this.$views.find("input").on("change.fu.repeater",a.proxy(this.viewChanged,this)),a(window).on("resize.fu.repeater."+this.stamp,function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout(function(){e.resize(),e.$element.trigger("resized.fu.repeater")},75)}),this.$loader.loader(),this.$loader.loader("pause"),-1!==this.options.defaultView?g=this.options.defaultView:(f=this.$views.find("label.active input"),g=f.length>0?f.val():"list"),this.setViewOptions(g),this.initViewTypes(function(){e.resize(),e.$element.trigger("resized.fu.repeater"),e.render({changeView:g})})},d=function(b){window.console&&window.console.warn&&window.console.warn(b)},e=function b(c){var d=[];c.children().each(function(){var e=a(this),f=e.attr("data-preserve");"deep"===f?(e.detach(),d.push(e)):"shallow"===f&&(b(e),e.detach(),d.push(e))}),c.empty(),c.append(d)},f=function(c,d){var e;if(d&&"none"!==(e=d.action?d.action:"append")&&void 0!==d.item){(void 0!==d.container?a(d.container):c)[e](d.item)}},g=function(b,c,d){var e=b+1;e<c.length?h.call(this,e,c,d):d()},h=function(b,c,d){c[b].initialize?c[b].initialize.call(this,{},function(){g.call(this,b,c,d)}):g.call(this,b,c,d)},i=function(b){var c=b.data||{};this.infiniteScrollingEnabled&&((b.viewChanged||b.options.clearInfinite)&&this.initInfiniteScrolling(),this.infiniteScrollPaging(c,b.options)),this.$loader.hide().loader("pause"),this.enable(),this.$search.trigger("rendered.fu.repeater",{data:c,options:b.dataOptions,renderOptions:b.options}),this.$element.trigger("rendered.fu.repeater",{data:c,options:b.dataOptions,renderOptions:b.options}),this.$element.trigger("loaded.fu.repeater",b.dataOptions)},j=function(b){var c=b.data||{};this.infiniteScrollingEnabled?this.infiniteScrollingCallback({}):(this.itemization(c),this.pagination(c));var d=this;this.renderItems(b.viewTypeObj,c,function(c){b.data=c,i.call(d,b)})};c.prototype={constructor:c,clear:function(c){var d=c||{};d.preserve?this.infiniteScrollingEnabled&&!d.clearInfinite||e(this.$canvas):this.$canvas.empty();var f=void 0!==d.viewChanged&&d.viewChanged,g=a.fn.repeater.viewTypes[this.viewType]||{};!f&&g.cleared&&g.cleared.call(this,{options:d})},clearPreservedDataSourceOptions:function(){this.storedDataSourceOpts=null},destroy:function(){var c;return this.$element.find("input").each(function(){a(this).attr("value",a(this).val())}),this.$canvas.empty(),c=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".search").search("destroy"),this.infiniteScrollingEnabled&&a(this.infiniteScrollingCont).infinitescroll("destroy"),this.$element.remove(),a(window).off("resize.fu.repeater."+this.stamp),c},disable:function(){var c=a.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("disable"),this.$filters.selectlist("disable"),this.$views.find("label, input").addClass("disabled").attr("disabled","disabled"),this.$pageSize.selectlist("disable"),this.$primaryPaging.find(".combobox").combobox("disable"),this.$secondaryPaging.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.$nextBtn.attr("disabled","disabled"),c.enabled&&c.enabled.call(this,{status:!1}),this.isDisabled=!0,this.$element.addClass("disabled"),this.$element.trigger("disabled.fu.repeater")},enable:function(){var c=a.fn.repeater.viewTypes[this.viewType]||{};this.$search.search("enable"),this.$filters.selectlist("enable"),this.$views.find("label, input").removeClass("disabled").removeAttr("disabled"),this.$pageSize.selectlist("enable"),this.$primaryPaging.find(".combobox").combobox("enable"),this.$secondaryPaging.removeAttr("disabled"),this.$prevBtn.hasClass("page-end")||this.$prevBtn.removeAttr("disabled"),this.$nextBtn.hasClass("page-end")||this.$nextBtn.removeAttr("disabled"),this.$prevBtn.hasClass("page-end")&&this.$nextBtn.hasClass("page-end")&&this.$primaryPaging.combobox("disable"),0!==parseInt(this.$count.html(),10)?this.$pageSize.selectlist("enable"):this.$pageSize.selectlist("disable"),c.enabled&&c.enabled.call(this,{status:!0}),this.isDisabled=!1,this.$element.removeClass("disabled"),this.$element.trigger("enabled.fu.repeater")},getDataOptions:function(c){var d=c||{};void 0!==d.pageIncrement&&(null===d.pageIncrement?this.currentPage=0:this.currentPage+=d.pageIncrement);var e={};d.dataSourceOptions&&(e=d.dataSourceOptions,d.preserveDataSourceOptions&&(this.storedDataSourceOpts?this.storedDataSourceOpts=a.extend(this.storedDataSourceOpts,e):this.storedDataSourceOpts=e)),this.storedDataSourceOpts&&(e=a.extend(this.storedDataSourceOpts,e));var f={view:this.currentView,pageIndex:this.currentPage,filter:{text:"All",value:"all"}};this.$filters.length>0&&(f.filter=this.$filters.selectlist("selectedItem")),this.infiniteScrollingEnabled||(f.pageSize=25,this.$pageSize.length>0&&(f.pageSize=parseInt(this.$pageSize.selectlist("selectedItem").value,10)));var g=this.$search&&this.$search.find("input")&&this.$search.find("input").val();""!==g&&(f.search=g);var h=a.fn.repeater.viewTypes[this.viewType]||{},i=h.dataOptions;return i&&(f=i.call(this,f)),f=a.extend(f,e)},infiniteScrolling:function(b,c){var d=this.$element.find(".repeater-footer"),e=this.$element.find(".repeater-viewport"),f=c||{};if(b)this.infiniteScrollingEnabled=!0,this.infiniteScrollingEnd=f.end,delete f.dataSource,delete f.end,this.infiniteScrollingOptions=f,e.css({height:e.height()+d.outerHeight()}),d.hide();else{var g=this.infiniteScrollingCont;delete g.data().infinitescroll,g.off("scroll"),g.removeClass("infinitescroll"),this.infiniteScrollingCont=null,this.infiniteScrollingEnabled=!1,this.infiniteScrollingEnd=null,this.infiniteScrollingOptions={},e.css({height:e.height()-d.outerHeight()}),d.show()}},infiniteScrollPaging:function(b){var c=!0!==this.infiniteScrollingEnd?this.infiniteScrollingEnd:void 0,d=b.page,e=b.pages;this.currentPage=void 0!==d?d:NaN,(!0===b.end||this.currentPage+1>=e)&&this.infiniteScrollingCont.infinitescroll("end",c)},initInfiniteScrolling:function(){var c=this.$canvas.find('[data-infinite="true"]:first');if(c=c.length<1?this.$canvas:c,c.data("fu.infinitescroll"))c.infinitescroll("enable");else{var d=this,e=a.extend({},this.infiniteScrollingOptions);e.dataSource=function(b,c){d.infiniteScrollingCallback=c,d.render({pageIncrement:1})},c.infinitescroll(e),this.infiniteScrollingCont=c}},initViewTypes:function(c){var d=[];for(var e in a.fn.repeater.viewTypes)({}).hasOwnProperty.call(a.fn.repeater.viewTypes,e)&&d.push(a.fn.repeater.viewTypes[e]);d.length>0?h.call(this,0,d,c):c()},itemization:function(b){this.$count.html(void 0!==b.count?b.count:"?"),this.$end.html(void 0!==b.end?b.end:"?"),this.$start.html(void 0!==b.start?b.start:"?")},next:function(){this.$nextBtn.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.pageIncrement=1,this.$element.trigger("nextClicked.fu.repeater"),this.render({pageIncrement:this.pageIncrement})},pageInputChange:function(b,c){var d;if(b!==this.lastPageInput){this.lastPageInput=b;var e=parseInt(b,10)-1;d=e-this.currentPage,this.$element.trigger("pageChanged.fu.repeater",[e,c]),this.render({pageIncrement:d})}},pagination:function(b){this.$primaryPaging.removeClass("active"),this.$secondaryPaging.removeClass("active");var c=b.pages;this.currentPage=void 0!==b.page?b.page:NaN;var d=0===c?0:this.currentPage+1;if(c<=this.viewOptions.dropPagingCap){this.$primaryPaging.addClass("active");var e=this.$primaryPaging.find(".dropdown-menu");e.empty();for(var f=0;f<c;f++){var g=f+1;e.append('<li data-value="'+g+'"><a href="#">'+g+"</a></li>")}this.$primaryPaging.find("input.form-control").val(d)}else this.$secondaryPaging.addClass("active"),this.$secondaryPaging.val(d);this.lastPageInput=this.currentPage+1+"",this.$pages.html(""+c),this.currentPage+1<c?(this.$nextBtn.removeAttr("disabled"),this.$nextBtn.removeClass("page-end")):(this.$nextBtn.attr("disabled","disabled"),this.$nextBtn.addClass("page-end")),this.currentPage-1>=0?(this.$prevBtn.removeAttr("disabled"),this.$prevBtn.removeClass("page-end")):(this.$prevBtn.attr("disabled","disabled"),this.$prevBtn.addClass("page-end")),0!==this.pageIncrement&&(this.pageIncrement>0?this.$nextBtn.is(":disabled")?this.$prevBtn.focus():this.$nextBtn.focus():this.$prevBtn.is(":disabled")?this.$nextBtn.focus():this.$prevBtn.focus())},previous:function(){this.$nextBtn.attr("disabled","disabled"),this.$prevBtn.attr("disabled","disabled"),this.pageIncrement=-1,this.$element.trigger("previousClicked.fu.repeater"),this.render({pageIncrement:this.pageIncrement})},render:function(c){this.disable();var d=!1,e=a.fn.repeater.viewTypes[this.viewType]||{},f=c||{};if(f.changeView&&this.currentView!==f.changeView){var g=this.currentView;this.currentView=f.changeView,this.viewType=this.currentView.split(".")[0],this.setViewOptions(this.currentView),this.$element.attr("data-currentview",this.currentView),this.$element.attr("data-viewtype",this.viewType),d=!0,f.viewChanged=d,this.$element.trigger("viewChanged.fu.repeater",this.currentView),this.infiniteScrollingEnabled&&this.infiniteScrolling(!1),e=a.fn.repeater.viewTypes[this.viewType]||{},e.selected&&e.selected.call(this,{prevView:g})}this.syncViewButtonState(),f.preserve=void 0!==f.preserve?f.preserve:!d,this.clear(f),(!this.infiniteScrollingEnabled||this.infiniteScrollingEnabled&&d)&&this.$loader.show().loader("play");var h=this.getDataOptions(f),k=this;(0,this.viewOptions.dataSource)(h,function(b){j.call(k,{data:b,dataOptions:h,options:f,viewChanged:d,viewTypeObj:e})})},resize:function(){for(var e,f,j,c=-1===this.viewOptions.staticHeight?this.$element.attr("data-staticheight"):this.viewOptions.staticHeight,d={},g=[],h=[],i=this.$element.parentsUntil(":visible").addBack(),k=0;k<i.length&&this.$element.is(":hidden");)j=i[k],a(j).is(":hidden")&&(h.push(j.style.display),j.style.display="block",g.push(j)),k++;if(this.viewType&&(d=a.fn.repeater.viewTypes[this.viewType]||{}),void 0!==c&&!1!==c&&"false"!==c){this.$canvas.addClass("scrolling"),f={bottom:this.$viewport.css("margin-bottom"),top:this.$viewport.css("margin-top")};e=("true"===c||!0===c?this.$element.height():parseInt(c,10))-this.$element.find(".repeater-header").outerHeight()-this.$element.find(".repeater-footer").outerHeight()-("auto"===f.bottom?0:parseInt(f.bottom,10))-("auto"===f.top?0:parseInt(f.top,10)),this.$viewport.outerHeight(e)}else this.$canvas.removeClass("scrolling");d.resize&&d.resize.call(this,{height:this.$element.outerHeight(),width:this.$element.outerWidth()}),g.forEach(function(a,b){a.style.display=h[b]})},renderItems:function(b,c,e){if(b.render)b.render.call(this,{container:this.$canvas,data:c},e);else{if(b.before){var g=b.before.call(this,{container:this.$canvas,data:c});f(this.$canvas,g)}var h=this.$canvas.find('[data-container="true"]:last'),i=h.length>0?h:this.$canvas;if(b.renderItem){var j,k=b.repeat||"data.items",l=k.split("."),m=l[0];if("data"===m||"this"===m){j="this"===m?this:c;for(var n=l.slice(1),o=0;o<n.length;o++){if(void 0===j[n[o]]){j=[],d("WARNING: Repeater unable to find property to iterate renderItem on.");break}j=j[n[o]]}for(var p=0;p<j.length;p++){var q=b.renderItem.call(this,{container:i,data:c,index:p,subset:j});f(i,q)}}else d('WARNING: Repeater plugin "repeat" value must start with either "data" or "this"')}if(b.after){var r=b.after.call(this,{container:this.$canvas,data:c});f(this.$canvas,r)}e(c)}},setViewOptions:function(c){var d={},e=c.split(".")[1];d=this.options.views?this.options.views[e]||this.options.views[c]||{}:{},this.viewOptions=a.extend({},this.options,d)},viewChanged:function(c){var d=a(c.target),e=d.val();this.syncingViewButtonState||(this.isDisabled||d.parents("label:first").hasClass("disabled")?this.syncViewButtonState():this.render({changeView:e,pageIncrement:null}))},syncViewButtonState:function(){var b=this.$views.find('input[value="'+this.currentView+'"]');this.syncingViewButtonState=!0,this.$views.find("input").prop("checked",!1),this.$views.find("label.active").removeClass("active"),b.length>0&&(b.prop("checked",!0),b.parents("label:first").addClass("active")),this.syncingViewButtonState=!1}},c.prototype.runRenderer=c.prototype.renderItems,a.fn.repeater=function(d){var f,e=Array.prototype.slice.call(arguments,1),g=this.each(function(){var g=a(this),h=g.data("fu.repeater"),i="object"==typeof d&&d;h||g.data("fu.repeater",h=new c(this,i)),"string"==typeof d&&(f=h[d].apply(h,e))});return void 0===f?g:f},a.fn.repeater.defaults={dataSource:function(b,c){c({count:0,end:0,items:[],page:0,pages:1,start:0})},defaultView:-1,dropPagingCap:10,staticHeight:-1,views:null,searchOnKeyPress:!1,allowCancel:!0},a.fn.repeater.viewTypes={},a.fn.repeater.Constructor=c,a.fn.repeater.noConflict=function(){return a.fn.repeater=b,this}}(a),function(a){a.fn.repeater&&(a.fn.repeater.Constructor.prototype.list_clearSelectedItems=function(){this.$canvas.find(".repeater-list-check").remove(),this.$canvas.find(".repeater-list table tbody tr.selected").removeClass("selected")},a.fn.repeater.Constructor.prototype.list_highlightColumn=function(c,d){var e=this.$canvas.find(".repeater-list-wrapper > table tbody");(this.viewOptions.list_highlightSortedColumn||d)&&(e.find("td.sorted").removeClass("sorted"),e.find("tr").each(function(){a(this).find("td:nth-child("+(c+1)+")").filter(function(){return!a(this).parent().hasClass("empty")}).addClass("sorted")}))},a.fn.repeater.Constructor.prototype.list_getSelectedItems=function(){var c=[];return this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr.selected").each(function(){var d=a(this);c.push({data:d.data("item_data"),element:d})}),c},a.fn.repeater.Constructor.prototype.getValue=a.fn.repeater.Constructor.prototype.list_getSelectedItems,a.fn.repeater.Constructor.prototype.list_positionHeadings=function(){var c=this.$element.find(".repeater-list-wrapper"),d=c.offset().left;c.scrollLeft()>0?c.find(".repeater-list-heading").each(function(){var c=a(this),e=c.parents("th:first").offset().left-d+"px";c.addClass("shifted").css("left",e)}):c.find(".repeater-list-heading").each(function(){a(this).removeClass("shifted").css("left","")})},a.fn.repeater.Constructor.prototype.list_setSelectedItems=function(c,d){var g,h,i,j,e=this.viewOptions.list_selectable,f=this,k=c;a.isArray(k)||(k=[k]);var l=function(c){i=a(this),g=i.data("item_data")||{},g[k[h].property]===k[h].value&&m(i,k[h].selected,c)},m=function(b,c,g){var h;void 0===c||c?(d||"multi"===e||f.list_clearSelectedItems(),b.hasClass("selected")||(b.addClass("selected"),(f.viewOptions.list_frozenColumns||"multi"===f.viewOptions.list_selectable)&&(h=f.$element.find(".frozen-column-wrapper tr:nth-child("+(g+1)+")"),h.addClass("selected"),h.find(".repeater-select-checkbox").addClass("checked")),f.viewOptions.list_actions&&f.$element.find(".actions-column-wrapper tr:nth-child("+(g+1)+")").addClass("selected"),b.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'))):(f.viewOptions.list_frozenColumns&&(h=f.$element.find(".frozen-column-wrapper tr:nth-child("+(g+1)+")"),h.addClass("selected"),h.find(".repeater-select-checkbox").removeClass("checked")),f.viewOptions.list_actions&&f.$element.find(".actions-column-wrapper tr:nth-child("+(g+1)+")").removeClass("selected"),b.find(".repeater-list-check").remove(),b.removeClass("selected"))};for(j=!0===d||"multi"===e?k.length:e&&k.length>0?1:0,h=0;h<j;h++)void 0!==k[h].index?(i=this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr:nth-child("+(k[h].index+1)+")"),i.length>0&&m(i,k[h].selected,k[h].index)):void 0!==k[h].property&&void 0!==k[h].value&&this.$canvas.find(".repeater-list .repeater-list-wrapper > table tbody tr").each(l)},a.fn.repeater.Constructor.prototype.list_sizeHeadings=function(){this.$element.find(".repeater-list table").find("thead th").each(function(){var c=a(this),d=c.find(".repeater-list-heading");d.css({height:c.outerHeight()}),d.outerWidth(d.data("forced-width")||c.outerWidth())})},a.fn.repeater.Constructor.prototype.list_setFrozenColumns=function(){var c=this.$canvas.find(".table-frozen"),d=this.$element.find(".repeater-canvas"),e=this.$element.find(".repeater-list .repeater-list-wrapper > table"),f=this.$element.find(".repeater-list"),g=this.viewOptions.list_frozenColumns,h=this;if("multi"===this.viewOptions.list_selectable&&(g+=1,d.addClass("multi-select-enabled")),c.length<1){var i=a('<div class="frozen-column-wrapper"></div>').insertBefore(e),j=e.clone().addClass("table-frozen");j.find("th:not(:lt("+g+"))").remove(),j.find("td:not(:nth-child(n+0):nth-child(-n+"+g+"))").remove();var k=j.clone().removeClass("table-frozen");k.find("tbody").remove();var l=a('<div class="frozen-thead-wrapper"></div>').append(k),m=l.find("th label.checkbox-custom.checkbox-inline");m.attr("id",m.attr("id")+"_cloned"),i.append(j),f.append(l),this.$canvas.addClass("frozen-enabled")}this.list_sizeFrozenColumns(),a(".frozen-thead-wrapper .repeater-list-heading").on("click",function(){var c=a(this).parent("th").index();c+=1,h.$element.find(".repeater-list-wrapper > table thead th:nth-child("+c+") .repeater-list-heading")[0].click()})},a.fn.repeater.Constructor.prototype.list_positionColumns=function(){var b=this.$element.find(".repeater-canvas"),c=b.scrollTop(),d=b.scrollLeft(),e=this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable,f=this.viewOptions.list_actions,g="ltr"===this.viewOptions.list_direction,h=this.$element.find(".repeater-canvas").outerWidth(),i=this.$element.find(".repeater-list .repeater-list-wrapper > table").outerWidth(),j=this.$element.find(".table-actions")?this.$element.find(".table-actions").outerWidth():0,k=i-(h-j)>=d;c>0?b.find(".repeater-list-heading").css("top",c):b.find(".repeater-list-heading").css("top","0"),d>0?(e&&(b.find(".frozen-thead-wrapper").css("left",d),b.find(".frozen-column-wrapper").css("left",d)),f&&k&&(b.find(".actions-thead-wrapper").css("right",-d),b.find(".actions-column-wrapper").css("right",-d))):d<0?(e&&(b.find(".frozen-thead-wrapper").css("right",-d),b.find(".frozen-column-wrapper").css("right",-d)),f&&k&&(b.find(".actions-thead-wrapper").css("left",d),b.find(".actions-column-wrapper").css("left",d))):(e&&(b.find(".frozen-thead-wrapper").css(g?"left":"right","0"),b.find(".frozen-column-wrapper").css(g?"left":"right","0")),f&&(b.find(".actions-thead-wrapper").css(g?"right":"left","0"),b.find(".actions-column-wrapper").css(g?"right":"left","0")))},a.fn.repeater.Constructor.prototype.list_createItemActions=function(){var e,f,c="",d=this,g=this.$element.find(".repeater-list .repeater-list-wrapper > table"),h=this.$canvas.find(".table-actions");for(e=0,f=this.viewOptions.list_actions.items.length;e<f;e++){var i=this.viewOptions.list_actions.items[e],j=i.html;c+='<li><a href="#" data-action="'+i.name+'" class="action-item"> '+j+"</a></li>"}var k='<div class="btn-group"><button type="button" class="btn btn-xs btn-default dropdown-toggle repeater-actions-button" data-toggle="dropdown" data-flip="auto" aria-expanded="false"><span class="caret"></span></button><ul class="dropdown-menu dropdown-menu-right" role="menu">'+c+"</ul></div>";if(h.length<1){var l=a('<div class="actions-column-wrapper" style="width: '+this.list_actions_width+'px"></div>').insertBefore(g),m=g.clone().addClass("table-actions");if(m.find("th:not(:last-child)").remove(),m.find("tr td:not(:last-child)").remove(),"multi"===this.viewOptions.list_selectable||"action"===this.viewOptions.list_selectable)m.find("thead tr").html('<th><div class="repeater-list-heading">'+k+"</div></th>"),"action"!==this.viewOptions.list_selectable&&m.find("thead .btn").attr("disabled","disabled");else{var n=this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>';m.find("thead tr").addClass("empty-heading").html("<th>"+n+'<div class="repeater-list-heading">'+n+"</div></th>")}m.find("td").each(function(c){a(this).html(k),a(this).find("a").attr("data-row",c+1)}),l.append(m),this.$canvas.addClass("actions-enabled")}this.list_sizeActionsTable(),this.$element.find(".table-actions tbody .action-item").on("click",function(c){if(!d.isDisabled){var e=a(this).data("action"),f=a(this).data("row"),g={actionName:e,rows:[f]};d.list_getActionItems(g,c)}}),this.$element.find(".table-actions thead .action-item").on("click",function(c){if(!d.isDisabled){var e=a(this).data("action"),f={actionName:e,rows:[]},g=".repeater-list-wrapper > table .selected";"action"===d.viewOptions.list_selectable&&(g=".repeater-list-wrapper > table tr"),d.$element.find(g).each(function(b){f.rows.push(b+1)}),d.list_getActionItems(f,c)}})},a.fn.repeater.Constructor.prototype.list_getActionItems=function(c,d){for(var e=[],f=a.grep(this.viewOptions.list_actions.items,function(b){return b.name===c.actionName})[0],g=0,h=c.rows.length;g<h;g++){var i=this.$canvas.find(".repeater-list-wrapper > table tbody tr:nth-child("+c.rows[g]+")");e.push({item:i,rowData:i.data("item_data")})}if(1===e.length&&(e=e[0]),f.clickAction){var j=function(){};f.clickAction(e,j,d)}},a.fn.repeater.Constructor.prototype.list_sizeActionsTable=function(){var c=this.$element.find(".repeater-list table.table-actions"),d=c.find("thead tr th"),e=this.$element.find(".repeater-list-wrapper > table");d.outerHeight(e.find("thead tr th").outerHeight()),d.find(".repeater-list-heading").outerHeight(d.outerHeight()),c.find("tbody tr td:first-child").each(function(c){a(this).outerHeight(e.find("tbody tr:eq("+c+") td").outerHeight())})},a.fn.repeater.Constructor.prototype.list_sizeFrozenColumns=function(){var c=this.$element.find(".repeater-list .repeater-list-wrapper > table");this.$element.find(".repeater-list table.table-frozen tr").each(function(d){a(this).height(c.find("tr:eq("+d+")").height())});var d=c.find("td:eq(0)").outerWidth();this.$element.find(".frozen-column-wrapper, .frozen-thead-wrapper").width(d)},a.fn.repeater.Constructor.prototype.list_frozenOptionsInitialize=function(){function i(a){f.list_revertingCheckbox=!0,a.checkbox("toggle"),delete f.list_revertingCheckbox}var c=this.$element.find(".frozen-column-wrapper .checkbox-inline"),d=this.$element.find(".header-checkbox .checkbox-custom"),e=this.$element.find(".repeater-list table"),f=this;this.$element.find("tr.selectable").on("mouseover mouseleave",function(c){var d=a(this).index();d+=1,"mouseover"===c.type?e.find("tbody tr:nth-child("+d+")").addClass("hovered"):e.find("tbody tr:nth-child("+d+")").removeClass("hovered")}),d.checkbox(),c.checkbox();var g=this.$element.find(".table-frozen tbody .checkbox-inline"),h=this.$element.find(".frozen-thead-wrapper thead .checkbox-inline input");g.on("change",function(c){if(c.preventDefault(),!f.list_revertingCheckbox)if(f.isDisabled)i(a(c.currentTarget));else{var d=a(this).attr("data-row");d=parseInt(d,10)+1,f.$element.find(".repeater-list-wrapper > table tbody tr:nth-child("+d+")").click();var e=f.$element.find(".table-frozen tbody .checkbox-inline.checked").length;0===e?(h.prop("checked",!1),h.prop("indeterminate",!1)):e===g.length?(h.prop("checked",!0),h.prop("indeterminate",!1)):(h.prop("checked",!1),h.prop("indeterminate",!0))}}),h.on("change",function(d){f.list_revertingCheckbox||(f.isDisabled?i(a(d.currentTarget)):a(this).is(":checked")?(f.$element.find(".repeater-list-wrapper > table tbody tr:not(.selected)").click(),f.$element.trigger("selected.fu.repeaterList",c)):(f.$element.find(".repeater-list-wrapper > table tbody tr.selected").click(),f.$element.trigger("deselected.fu.repeaterList",c)))})},a.fn.repeater.defaults=a.extend({},a.fn.repeater.defaults,{list_direction:"ltr",list_columnRendered:null,list_columnSizing:!0,list_columnSyncing:!0,list_highlightSortedColumn:!0,list_infiniteScroll:!1,list_noItemsHTML:"no items found",list_selectable:!1,list_sortClearing:!1,list_rowRendered:null,list_frozenColumns:0,list_actions:!1}),a.fn.repeater.viewTypes.list={cleared:function(){this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},dataOptions:function(b){return this.list_sortDirection&&(b.sortDirection=this.list_sortDirection),this.list_sortProperty&&(b.sortProperty=this.list_sortProperty),b},enabled:function(b){this.viewOptions.list_actions&&(b.status?(this.$canvas.find(".repeater-actions-button").removeAttr("disabled"),k.call(this)):this.$canvas.find(".repeater-actions-button").attr("disabled","disabled"))},initialize:function(b,c){this.list_sortDirection=null,this.list_sortProperty=null,this.list_specialBrowserClass=j(),this.list_actions_width=void 0!==this.viewOptions.list_actions.width?this.viewOptions.list_actions.width:37,this.list_noItems=!1,c()},resize:function(){i.call(this,this.$element.find(".repeater-list-wrapper > table thead tr")),this.viewOptions.list_actions&&this.list_sizeActionsTable(),(this.viewOptions.list_frozenColumns||"multi"===this.viewOptions.list_selectable)&&this.list_sizeFrozenColumns(),this.viewOptions.list_columnSyncing&&this.list_sizeHeadings()},selected:function(){var c,b=this.viewOptions.list_infiniteScroll;this.list_firstRender=!0,this.$loader.addClass("noHeader"),b&&(c="object"==typeof b?b:{},this.infiniteScrolling(!0,c))},before:function(c){var f,d=c.container.find(".repeater-list"),e=this;return c.data.count>0?this.list_noItems=!1:this.list_noItems=!0,d.length<1&&(d=a('<div class="repeater-list '+this.list_specialBrowserClass+'" data-preserve="shallow"><div class="repeater-list-wrapper" data-infinite="true" data-preserve="shallow"><table aria-readonly="true" class="table" data-preserve="shallow" role="grid"></table></div></div>'),d.find(".repeater-list-wrapper").on("scroll.fu.repeaterList",function(){e.viewOptions.list_columnSyncing&&e.list_positionHeadings()}),(e.viewOptions.list_frozenColumns||e.viewOptions.list_actions||"multi"===e.viewOptions.list_selectable)&&c.container.on("scroll.fu.repeaterList",function(){e.list_positionColumns()}),c.container.append(d)),c.container.removeClass("actions-enabled actions-enabled multi-select-enabled"),f=d.find("table"),h.call(this,f,c.data),g.call(this,f,c.data),!1},renderItem:function(b){return f.call(this,b.container,b.subset,b.index),!1},after:function(){var b;return!this.viewOptions.list_frozenColumns&&"multi"!==this.viewOptions.list_selectable||this.list_noItems||this.list_setFrozenColumns(),this.viewOptions.list_actions&&!this.list_noItems&&(this.list_createItemActions(),this.list_sizeActionsTable()),!this.viewOptions.list_frozenColumns&&!this.viewOptions.list_actions&&"multi"!==this.viewOptions.list_selectable||this.list_noItems||(this.list_positionColumns(),this.list_frozenOptionsInitialize()),this.viewOptions.list_columnSyncing&&(this.list_sizeHeadings(),this.list_positionHeadings()),b=this.$canvas.find(".repeater-list-wrapper > table .repeater-list-heading.sorted"),b.length>0&&this.list_highlightColumn(b.data("fu_item_index")),!1}});var b=function(b,c){if(!c)return!1;if(!b||c.length!==b.length)return!0;for(var d=0,e=c.length;d<e;d++){if(!b[d])return!0;for(var f in c[d])if(c[d].hasOwnProperty(f)&&b[d][f]!==c[d][f])return!0}return!1},c=function(c,d,e,f,g){var h=f[g].className,i=d[e][f[g].property],j=a("<td></td>"),k=f[g]._auto_width,l=f[g].property;if(!1!==this.viewOptions.list_actions&&"@_ACTIONS_@"===l&&(i='<div class="repeater-list-actions-placeholder" style="width: '+this.list_actions_width+'px"></div>'),i=void 0!==i?i:"",j.addClass(void 0!==h?h:"").append(i),void 0!==k&&j.outerWidth(k),c.append(j),"multi"===this.viewOptions.list_selectable&&"@_CHECKBOX_@"===f[g].property){var m='<label data-row="'+e+'" class="checkbox-custom checkbox-inline body-checkbox repeater-select-checkbox"><input class="sr-only" type="checkbox"></label>';j.html(m)}return j},d=function(c,d,e){var n,o,p,q,r,f="glyphicon-chevron-down",g=".glyphicon.rlc:first",h="glyphicon-chevron-up",i=a('<div class="repeater-list-heading"><span class="glyphicon rlc"></span></div>'),j=(this.$element.attr("id")+"_"||"")+"checkall",k='<div class="repeater-list-heading header-checkbox"><label id="'+j+'" class="checkbox-custom checkbox-inline"><input class="sr-only" type="checkbox" value=""><span class="checkbox-label">&nbsp;</span></label></div>',l=a("<th></th>"),m=this;if(i.data("fu_item_index",e),i.prepend(d[e].label),l.html(i.html()).find("[id]").removeAttr("id"),"@_CHECKBOX_@"!==d[e].property?l.append(i):l.append(k),n=l.add(i),q=i.find(g),r=q.add(l.find(g)),this.viewOptions.list_actions&&"@_ACTIONS_@"===d[e].property){var s=this.list_actions_width;l.css("width",s),i.css("width",s)}o=d[e].className,void 0!==o&&n.addClass(o),p=d[e].sortable,p&&(n.addClass("sortable"),i.on("click.fu.repeaterList",function(){m.isDisabled||(m.list_sortProperty="string"==typeof p?p:d[e].property,i.hasClass("sorted")?q.hasClass(h)?(r.removeClass(h).addClass(f),m.list_sortDirection="desc"):m.viewOptions.list_sortClearing?(n.removeClass("sorted"),r.removeClass(f),m.list_sortDirection=null,m.list_sortProperty=null):(r.removeClass(f).addClass(h),m.list_sortDirection="asc"):(c.find("th, .repeater-list-heading").removeClass("sorted"),r.removeClass(f).addClass(h),m.list_sortDirection="asc",n.addClass("sorted")),m.render({clearInfinite:!0,pageIncrement:null}))})),"asc"!==d[e].sortDirection&&"desc"!==d[e].sortDirection||(c.find("th, .repeater-list-heading").removeClass("sorted"),n.addClass("sortable sorted"),"asc"===d[e].sortDirection?(r.addClass(h),this.list_sortDirection="asc"):(r.addClass(f),this.list_sortDirection="desc"),this.list_sortProperty="string"==typeof p?p:d[e].property),c.append(l)},e=function(c){var d="multi"===c.viewOptions.list_selectable,e=c.viewOptions.list_actions,f=c.$element;if(!c.isDisabled){var g=a(this),h=a(this).index()+1,i=f.find(".frozen-column-wrapper tr:nth-child("+h+")"),j=f.find(".actions-column-wrapper tr:nth-child("+h+")"),l=f.find(".frozen-column-wrapper tr:nth-child("+h+") .checkbox-inline");g.is(".selected")?(g.removeClass("selected"),d?(l.click(),i.removeClass("selected"),e&&j.removeClass("selected")):g.find(".repeater-list-check").remove(),f.trigger("deselected.fu.repeaterList",g)):(d?(l.click(),g.addClass("selected"),i.addClass("selected"),e&&j.addClass("selected")):(c.$canvas.find(".repeater-list-check").remove(),c.$canvas.find(".repeater-list tbody tr.selected").each(function(){a(this).removeClass("selected"),f.trigger("deselected.fu.repeaterList",a(this))}),g.find("td:first").prepend('<div class="repeater-list-check"><span class="glyphicon glyphicon-ok"></span></div>'),g.addClass("selected"),i.addClass("selected")),f.trigger("selected.fu.repeaterList",g)),k.call(c)}},f=function(d,f,g){var h=a("<tr></tr>");if(this.viewOptions.list_selectable&&(h.data("item_data",f[g]),"action"!==this.viewOptions.list_selectable)){h.addClass("selectable"),h.attr("tabindex",0);var i=this;h.on("click.fu.repeaterList",function(){e.call(this,i)}),h.keyup(function(b){13===b.keyCode&&h.trigger("click.fu.repeaterList")})}this.viewOptions.list_actions&&!this.viewOptions.list_selectable&&h.data("item_data",f[g]);for(var j=[],k=0,l=this.list_columns.length;k<l;k++)j.push(c.call(this,h,f,g,this.list_columns,k));if(d.append(h),this.viewOptions.list_columnRendered)for(var m=0,n=j.length;m<n;m++)"@_CHECKBOX_@"!==this.list_columns[m].property&&"@_ACTIONS_@"!==this.list_columns[m].property&&this.viewOptions.list_columnRendered({container:h,columnAttr:this.list_columns[m].property,item:j[m],rowData:f[g]},function(){});this.viewOptions.list_rowRendered&&this.viewOptions.list_rowRendered({container:d,item:h,rowData:f[g]},function(){})},g=function(c,d){var f,e=c.find("tbody");e.length<1&&(e=a('<tbody data-container="true"></tbody>'),c.append(e)),"string"==typeof d.error&&d.error.length>0?(f=a('<tr class="empty text-danger"><td colspan="'+this.list_columns.length+'"></td></tr>'),f.find("td").append(d.error),e.append(f)):d.items&&d.items.length<1&&(f=a('<tr class="empty"><td colspan="'+this.list_columns.length+'"></td></tr>'),f.find("td").append(this.viewOptions.list_noItemsHTML),e.append(f))},h=function(e,f){var j,k,l,g=f.columns||[],h=e.find("thead");if(this.list_firstRender||b(this.list_columns,g)||0===h.length){if(h.remove(),"multi"===this.viewOptions.list_selectable&&!this.list_noItems){var m={label:"c",property:"@_CHECKBOX_@",sortable:!1};g.splice(0,0,m)}if(this.list_columns=g,this.list_firstRender=!1,this.$loader.removeClass("noHeader"),this.viewOptions.list_actions){var n={label:this.viewOptions.list_actions.label||'<span class="actions-hidden">a</span>',property:"@_ACTIONS_@",sortable:!1,width:this.list_actions_width};g.push(n)}for(h=a('<thead data-preserve="deep"><tr></tr></thead>'),l=h.find("tr"),j=0,k=g.length;j<k;j++)d.call(this,l,g,j);if(e.prepend(h),"multi"===this.viewOptions.list_selectable&&!this.list_noItems){var o=this.$element.find(".repeater-list-wrapper .header-checkbox").outerWidth();a.grep(g,function(b){return"@_CHECKBOX_@"===b.property})[0].width=o}i.call(this,l)}},i=function(c){var f,g,h,i,d=[],e=this;if(this.viewOptions.list_columnSizing&&(f=0,i=0,c.find("th").each(function(){var g,c=a(this);if(void 0!==e.list_columns[f].width)g=e.list_columns[f].width,c.outerWidth(g),i+=c.outerWidth(),e.list_columns[f]._auto_width=g;else{var h=c.find(".repeater-list-heading").outerWidth();d.push({col:c,index:f,minWidth:h})}f++}),(g=d.length)>0)){var j=this.$canvas.find(".repeater-list-wrapper").outerWidth();for(h=Math.floor((j-i)/g),f=0;f<g;f++)d[f].minWidth>h&&(h=d[f].minWidth),d[f].col.outerWidth(h),this.list_columns[d[f].index]._auto_width=h}},j=function(){var b=window.navigator.userAgent,c=b.indexOf("MSIE "),d=b.indexOf("Firefox");return c>0?"ie-"+parseInt(b.substring(c+5,b.indexOf(".",c)),10):d>0?"firefox":""},k=function(){var d,b=".repeater-list-wrapper > table .selected",c=this.$element.find(".table-actions");"action"===this.viewOptions.list_selectable&&(b=".repeater-list-wrapper > table tr"),d=this.$canvas.find(b),d.length>0?c.find("thead .btn").removeAttr("disabled"):c.find("thead .btn").attr("disabled","disabled")}}(a),function(a){function b(b,c){function e(){var e,f,g;f=c.indexOf("{{"),e=c.indexOf("}}",f+2),f>-1&&e>-1?(g=a.trim(c.substring(f+2,e)),g=void 0!==b[g]?b[g]:"",c=c.substring(0,f)+g+c.substring(e+2)):d=!0}for(var d=!1;!d&&c.search("{{")>=0;)e(c);return c}a.fn.repeater&&(a.fn.repeater.Constructor.prototype.thumbnail_clearSelectedItems=function(){this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").removeClass("selected")},a.fn.repeater.Constructor.prototype.thumbnail_getSelectedItems=function(){var b=[];return this.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){b.push(a(this))}),b},a.fn.repeater.Constructor.prototype.thumbnail_setSelectedItems=function(b,c){function j(){if(i===b[f].index)return g=a(this),!1;i++}function k(){g=a(this),g.is(b[f].selector)&&l(g,b[f].selected)}function l(a,b){b=void 0===b||b,b?(c||"multi"===d||e.thumbnail_clearSelectedItems(),a.addClass("selected")):a.removeClass("selected")}var f,g,h,i,d=this.viewOptions.thumbnail_selectable,e=this;for(a.isArray(b)||(b=[b]),h=!0===c||"multi"===d?b.length:d&&b.length>0?1:0,f=0;f<h;f++)void 0!==b[f].index?(g=a(),i=0,this.$canvas.find(".repeater-thumbnail-cont .selectable").each(j),g.length>0&&l(g,b[f].selected)):b[f].selector&&this.$canvas.find(".repeater-thumbnail-cont .selectable").each(k)},a.fn.repeater.defaults=a.extend({},a.fn.repeater.defaults,{thumbnail_alignment:"left",thumbnail_infiniteScroll:!1,thumbnail_itemRendered:null,thumbnail_noItemsHTML:"no items found",thumbnail_selectable:!1,thumbnail_template:'<div class="thumbnail repeater-thumbnail"><img height="75" src="{{src}}" width="65"><span>{{name}}</span></div>'}),a.fn.repeater.viewTypes.thumbnail={selected:function(){var b,a=this.viewOptions.thumbnail_infiniteScroll;a&&(b="object"==typeof a?a:{},this.infiniteScrolling(!0,b))},before:function(b){var g,h,c=this.viewOptions.thumbnail_alignment,d=this.$canvas.find(".repeater-thumbnail-cont"),e=b.data,f={};return d.length<1?(d=a('<div class="clearfix repeater-thumbnail-cont" data-container="true" data-infinite="true" data-preserve="shallow"></div>'),c&&"none"!==c?(h={center:1,justify:1,left:1,right:1},c=h[c]?c:"justify",d.addClass("align-"+c),this.thumbnail_injectSpacers=!0):this.thumbnail_injectSpacers=!1,f.item=d):f.action="none",e.items&&e.items.length<1?(g=a('<div class="empty"></div>'),g.append(this.viewOptions.thumbnail_noItemsHTML),d.append(g)):d.find(".empty:first").remove(),f},renderItem:function(c){var d=this.viewOptions.thumbnail_selectable,e="selected",f=this,g=a(b(c.subset[c.index],this.viewOptions.thumbnail_template));return g.data("item_data",c.data.items[c.index]),d&&(g.addClass("selectable"),g.on("click",function(){f.isDisabled||(g.hasClass(e)?(g.removeClass(e),f.$element.trigger("deselected.fu.repeaterThumbnail",g)):("multi"!==d&&f.$canvas.find(".repeater-thumbnail-cont .selectable.selected").each(function(){var b=a(this);b.removeClass(e),f.$element.trigger("deselected.fu.repeaterThumbnail",b)}),g.addClass(e),f.$element.trigger("selected.fu.repeaterThumbnail",g)))})),c.container.append(g),this.thumbnail_injectSpacers&&g.after('<span class="spacer">&nbsp;</span>'),this.viewOptions.thumbnail_itemRendered&&this.viewOptions.thumbnail_itemRendered({container:c.container,item:g,itemData:c.subset[c.index]},function(){}),!1}})}(a),function(a){var b=a.fn.scheduler,c=function(c,d){var e=this;this.$element=a(c),this.options=a.extend({},a.fn.scheduler.defaults,d),this.$startDate=this.$element.find(".start-datetime .start-date"),this.$startTime=this.$element.find(".start-datetime .start-time"),this.$timeZone=this.$element.find(".timezone-container .timezone"),this.$repeatIntervalPanel=this.$element.find(".repeat-every-panel"),this.$repeatIntervalSelect=this.$element.find(".repeat-options"),this.$repeatIntervalSpinbox=this.$element.find(".repeat-every"),this.$repeatIntervalTxt=this.$element.find(".repeat-every-text"),this.$end=this.$element.find(".repeat-end"),this.$endSelect=this.$end.find(".end-options"),this.$endAfter=this.$end.find(".end-after"),this.$endDate=this.$end.find(".end-on-date"),this.$recurrencePanels=this.$element.find(".repeat-panel"),this.$repeatIntervalSelect.selectlist(),this.$element.find(".selectlist").selectlist(),this.$startDate.datepicker(this.options.startDateOptions);var f="function"==typeof this.options.startDateChanged?this.options.startDateChanged:this._guessEndDate;this.$startDate.on("change changed.fu.datepicker dateClicked.fu.datepicker",a.proxy(f,this)),this.$startTime.combobox(),""===this.$startTime.find("input").val()&&this.$startTime.combobox("selectByIndex",0),"0"===this.$repeatIntervalSpinbox.find("input").val()?this.$repeatIntervalSpinbox.spinbox({value:1,min:1,limitToStep:!0}):this.$repeatIntervalSpinbox.spinbox({min:1,limitToStep:!0}),this.$endAfter.spinbox({value:1,min:1,limitToStep:!0}),this.$endDate.datepicker(this.options.endDateOptions),this.$element.find(".radio-custom").radio(),this.$repeatIntervalSelect.on("changed.fu.selectlist",a.proxy(this.repeatIntervalSelectChanged,this)),this.$endSelect.on("changed.fu.selectlist",a.proxy(this.endSelectChanged,this)),this.$element.find(".repeat-days-of-the-week .btn-group .btn").on("change.fu.scheduler",function(a,b){e.changed(a,b,!0)}),this.$element.find(".combobox").on("changed.fu.combobox",a.proxy(this.changed,this)),this.$element.find(".datepicker").on("changed.fu.datepicker",a.proxy(this.changed,this)),this.$element.find(".datepicker").on("dateClicked.fu.datepicker",a.proxy(this.changed,this)),this.$element.find(".selectlist").on("changed.fu.selectlist",a.proxy(this.changed,this)),this.$element.find(".spinbox").on("changed.fu.spinbox",a.proxy(this.changed,this)),this.$element.find(".repeat-monthly .radio-custom, .repeat-yearly .radio-custom").on("change.fu.scheduler",a.proxy(this.changed,this))},d=function(b,c){var e,d="";return d+=b.getFullYear(),d+=c,e=b.getMonth()+1,d+=e<10?"0"+e:e,d+=c,e=b.getDate(),d+=e<10?"0"+e:e},e=1e3,f=60*e,g=60*f,h=24*g,i=7*h,j=5*i,k=52*i,l={secondly:e,minutely:f,hourly:g,daily:h,weekly:i,monthly:j,yearly:k},m=function(b,c,d,e){return new Date(b.getTime()+l[d]*e)};c.prototype={constructor:c,destroy:function(){var c;return this.$element.find("input").each(function(){a(this).attr("value",a(this).val())}),this.$element.find(".datepicker .calendar").empty(),c=this.$element[0].outerHTML,this.$element.find(".combobox").combobox("destroy"),this.$element.find(".datepicker").datepicker("destroy"),this.$element.find(".selectlist").selectlist("destroy"),this.$element.find(".spinbox").spinbox("destroy"),this.$element.find(".radio-custom").radio("destroy"),this.$element.remove(),c},changed:function(c,d,e){e||c.stopPropagation(),this.$element.trigger("changed.fu.scheduler",{data:void 0!==d?d:a(c.currentTarget).data(),originalEvent:c,value:this.getValue()})},disable:function(){this.toggleState("disable")},enable:function(){this.toggleState("enable")},setUtcTime:function(b,c,d){var e=b.split("-"),f=c.split(":"),h=new Date(Date.UTC(e[0],e[1]-1,e[2],f[0],f[1],f[2]?f[2]:0));if("Z"===d)h.setUTCHours(h.getUTCHours()+0);else{var i=[];i[0]="(.)",i[1]=".*?",i[2]="\\d",i[3]=".*?",i[4]="(\\d)";var j=new RegExp(i.join(""),["i"]),k=j.exec(d);if(null!==k){var l=k[1],m=k[2],n="+"===l?1:-1;h.setUTCHours(h.getUTCHours()+n*parseInt(m,10))}}var o=h.getTimezoneOffset();return h.setMinutes(o),h},endSelectChanged:function(b,c){var d,e;c?e=c.value:(d=this.$endSelect.selectlist("selectedItem"),e=d.value),this.$endAfter.parent().addClass("hidden"),this.$endAfter.parent().attr("aria-hidden","true"),this.$endDate.parent().addClass("hidden"),this.$endDate.parent().attr("aria-hidden","true"),"after"===e?(this.$endAfter.parent().removeClass("hide hidden"),this.$endAfter.parent().attr("aria-hidden","false")):"date"===e&&(this.$endDate.parent().removeClass("hide hidden"),this.$endDate.parent().attr("aria-hidden","false"))},_guessEndDate:function(){var b=this.$repeatIntervalSelect.selectlist("selectedItem").value,c=new Date(this.$endDate.datepicker("getDate")),d=new Date(this.$startDate.datepicker("getDate")),e=this.$repeatIntervalSpinbox.find("input").val();"none"!==b&&c<=d&&(this.$repeatIntervalSpinbox.is(":visible")||(e=1),"weekdays"===b&&(e=1,b="weekly"),c=m(d,c,b,e),this.$endDate.datepicker("setDate",c))},getValue:function(){var g,c=this.$repeatIntervalSpinbox.spinbox("value"),e="",f=this.$repeatIntervalSelect.selectlist("selectedItem").value;this.$startTime.combobox("selectedItem").value?(g=this.$startTime.combobox("selectedItem").value,g=g.toLowerCase()):g=this.$startTime.combobox("selectedItem").text.toLowerCase();var i,j,k,l,m,n,o,p,h=this.$timeZone.selectlist("selectedItem");o=""+d(this.$startDate.datepicker("getDate"),"-"),o+="T",k=g.search("am")>=0,l=g.search("pm")>=0,g=a.trim(g.replace(/am/g,"").replace(/pm/g,"")).split(":"),g[0]=parseInt(g[0],10),g[1]=parseInt(g[1],10),k&&g[0]>11?g[0]=0:l&&g[0]<12&&(g[0]+=12),o+=g[0]<10?"0"+g[0]:g[0],o+=":",o+=g[1]<10?"0"+g[1]:g[1],o+="+00:00"===h.offset?"Z":h.offset,"none"===f?e="FREQ=DAILY;INTERVAL=1;COUNT=1;":"secondly"===f?(e="FREQ=SECONDLY;",e+="INTERVAL="+c+";"):"minutely"===f?(e="FREQ=MINUTELY;",e+="INTERVAL="+c+";"):"hourly"===f?(e="FREQ=HOURLY;",e+="INTERVAL="+c+";"):"daily"===f?(e+="FREQ=DAILY;",e+="INTERVAL="+c+";"):"weekdays"===f?(e+="FREQ=WEEKLY;",e+="BYDAY=MO,TU,WE,TH,FR;",e+="INTERVAL=1;"):"weekly"===f?(j=[],this.$element.find(".repeat-days-of-the-week .btn-group input:checked").each(function(){j.push(a(this).data().value)}),e+="FREQ=WEEKLY;",e+="BYDAY="+j.join(",")+";",e+="INTERVAL="+c+";"):"monthly"===f?(e+="FREQ=MONTHLY;",e+="INTERVAL="+c+";",p=this.$element.find("input[name=repeat-monthly]:checked").val(),"bymonthday"===p?(i=parseInt(this.$element.find(".repeat-monthly-date .selectlist").selectlist("selectedItem").text,10),e+="BYMONTHDAY="+i+";"):"bysetpos"===p&&(j=this.$element.find(".repeat-monthly-day .month-days").selectlist("selectedItem").value,n=this.$element.find(".repeat-monthly-day .month-day-pos").selectlist("selectedItem").value,e+="BYDAY="+j+";",e+="BYSETPOS="+n+";")):"yearly"===f&&(e+="FREQ=YEARLY;",p=this.$element.find("input[name=repeat-yearly]:checked").val(),"bymonthday"===p?(m=this.$element.find(".repeat-yearly-date .year-month").selectlist("selectedItem").value,i=this.$element.find(".repeat-yearly-date .year-month-day").selectlist("selectedItem").text,e+="BYMONTH="+m+";",e+="BYMONTHDAY="+i+";"):"bysetpos"===p&&(j=this.$element.find(".repeat-yearly-day .year-month-days").selectlist("selectedItem").value,n=this.$element.find(".repeat-yearly-day .year-month-day-pos").selectlist("selectedItem").value,m=this.$element.find(".repeat-yearly-day .year-month").selectlist("selectedItem").value,e+="BYDAY="+j+";",e+="BYSETPOS="+n+";",e+="BYMONTH="+m+";"));var q=this.$endSelect.selectlist("selectedItem").value,r="";return"none"!==f&&("after"===q?r="COUNT="+this.$endAfter.spinbox("value")+";":"date"===q&&(r="UNTIL="+d(this.$endDate.datepicker("getDate"),"")+";")),e+=r,e=";"===e.substring(e.length-1)?e.substring(0,e.length-1):e,{startDateTime:o,timeZone:h,recurrencePattern:e}},repeatIntervalSelectChanged:function(b,c){var d,e,f;switch(c?(e=c.value,f=c.text):(d=this.$repeatIntervalSelect.selectlist("selectedItem"),e=d.value||"",f=d.text||""),this.$repeatIntervalTxt.text(f),e.toLowerCase()){case"hourly":case"daily":case"weekly":case"monthly":this.$repeatIntervalPanel.removeClass("hide hidden"),this.$repeatIntervalPanel.attr("aria-hidden","false");break;default:this.$repeatIntervalPanel.addClass("hidden"),this.$repeatIntervalPanel.attr("aria-hidden","true")}this.$recurrencePanels.addClass("hidden"),this.$recurrencePanels.attr("aria-hidden","true"),this.$element.find(".repeat-"+e).removeClass("hide hidden"),this.$element.find(".repeat-"+e).attr("aria-hidden","false"),"none"===e?(this.$end.addClass("hidden"),this.$end.attr("aria-hidden","true")):(this.$end.removeClass("hide hidden"),this.$end.attr("aria-hidden","false")),this._guessEndDate()},_parseAndSetRecurrencePattern:function(a,b){var f,g,h,i,c={},d=0,e="",j=a.toUpperCase().split(";");for(d=0;d<j.length;d++)""!==j[d]&&(e=j[d].split("="),c[e[0]]=e[1]);if("DAILY"===c.FREQ)e="MO,TU,WE,TH,FR"===c.BYDAY?"weekdays":"1"===c.INTERVAL&&"1"===c.COUNT?"none":"daily";else if("SECONDLY"===c.FREQ)e="secondly";else if("MINUTELY"===c.FREQ)e="minutely";else if("HOURLY"===c.FREQ)e="hourly";else if("WEEKLY"===c.FREQ){if(e="weekly",c.BYDAY)if("MO,TU,WE,TH,FR"===c.BYDAY)e="weekdays";else{var k=this.$element.find(".repeat-days-of-the-week .btn-group");for(k.find("label").removeClass("active"),f=c.BYDAY.split(","),d=0;d<f.length;d++)k.find('input[data-value="'+f[d]+'"]').prop("checked",!0).parent().addClass("active")}}else if("MONTHLY"===c.FREQ){if(this.$element.find(".repeat-monthly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-monthly label.radio-custom").removeClass("checked"),c.BYMONTHDAY)g=this.$element.find(".repeat-monthly-date"),g.find("input").addClass("checked").prop("checked",!0),g.find("label.radio-custom").addClass("checked"),g.find(".selectlist").selectlist("selectByValue",c.BYMONTHDAY);else if(c.BYDAY){var l=this.$element.find(".repeat-monthly-day");l.find("input").addClass("checked").prop("checked",!0),l.find("label.radio-custom").addClass("checked"),c.BYSETPOS&&l.find(".month-day-pos").selectlist("selectByValue",c.BYSETPOS),l.find(".month-days").selectlist("selectByValue",c.BYDAY)}e="monthly"}else"YEARLY"===c.FREQ?(this.$element.find(".repeat-yearly input").removeAttr("checked").removeClass("checked"),this.$element.find(".repeat-yearly label.radio-custom").removeClass("checked"),c.BYMONTHDAY?(h=this.$element.find(".repeat-yearly-date"),h.find("input").addClass("checked").prop("checked",!0),h.find("label.radio-custom").addClass("checked"),c.BYMONTH&&h.find(".year-month").selectlist("selectByValue",c.BYMONTH),h.find(".year-month-day").selectlist("selectByValue",c.BYMONTHDAY)):c.BYSETPOS&&(i=this.$element.find(".repeat-yearly-day"),i.find("input").addClass("checked").prop("checked",!0),i.find("label.radio-custom").addClass("checked"),i.find(".year-month-day-pos").selectlist("selectByValue",c.BYSETPOS),c.BYDAY&&i.find(".year-month-days").selectlist("selectByValue",c.BYDAY),c.BYMONTH&&i.find(".year-month").selectlist("selectByValue",c.BYMONTH)),e="yearly"):e="none";if(c.COUNT)this.$endAfter.spinbox("value",parseInt(c.COUNT,10)),this.$endSelect.selectlist("selectByValue","after");else if(c.UNTIL){var m,n;8===c.UNTIL.length&&(m=c.UNTIL.split(""),m.splice(4,0,"-"),m.splice(7,0,"-"),n=m.join(""));var o=this.$timeZone.selectlist("selectedItem"),p="+00:00"===o.offset?"Z":o.offset,q=this.setUtcTime(n,b.time24HourFormat,p);this.$endDate.datepicker("setDate",q),this.$endSelect.selectlist("selectByValue","date")}else this.$endSelect.selectlist("selectByValue","never");this.endSelectChanged(),c.INTERVAL&&this.$repeatIntervalSpinbox.spinbox("value",parseInt(c.INTERVAL,10)),this.$repeatIntervalSelect.selectlist("selectByValue",e),this.repeatIntervalSelectChanged()},_parseStartDateTime:function(b){var f,g,h,c={};return c.time24HourFormat=b.split("+")[0].split("-")[0],b.search(/\+/)>-1?c.timeZoneOffset="+"+a.trim(b.split("+")[1]):b.search(/\-/)>-1?c.timeZoneOffset="-"+a.trim(b.split("-")[1]):c.timeZoneOffset="+00:00",c.time24HourFormatSplit=c.time24HourFormat.split(":"),f=parseInt(c.time24HourFormatSplit[0],10),g=c.time24HourFormatSplit[1]?parseInt(c.time24HourFormatSplit[1].split("+")[0].split("-")[0].split("Z")[0],10):0,h=f<12?"AM":"PM",0===f?f=12:f>12&&(f-=12),g=g<10?"0"+g:g,c.time12HourFormat=f+":"+g,c.time12HourFormatWithPeriod=f+":"+g+" "+h,c},_parseTimeZone:function(b,c){return c.timeZoneQuerySelector="",b.timeZone?("string"==typeof b.timeZone?c.timeZoneQuerySelector+='li[data-name="'+b.timeZone+'"]':a.each(b.timeZone,function(a,b){c.timeZoneQuerySelector+="li[data-"+a+'="'+b+'"]'}),c.timeZoneOffset=b.timeZone.offset):b.startDateTime?(c.timeZoneOffset="+00:00"===c.timeZoneOffset?"Z":c.timeZoneOffset,c.timeZoneQuerySelector+='li[data-offset="'+c.timeZoneOffset+'"]'):c.timeZoneOffset="Z",c.timeZoneOffset},_setTimeUI:function(a){this.$startTime.find("input").val(a),this.$startTime.combobox("selectByText",a)},_setTimeZoneUI:function(a){this.$timeZone.selectlist("selectBySelector",a)},setValue:function(b){var d,e,f,h,c={};if(b.startDateTime)d=b.startDateTime.split("T"),e=d[0],f=d[1],f?(c=this._parseStartDateTime(f),this._setTimeUI(c.time12HourFormatWithPeriod)):(c.time12HourFormat="00:00",c.time24HourFormat="00:00");else{c.time12HourFormat="00:00",c.time24HourFormat="00:00";var i=this.$startDate.datepicker("getDate");e=i.getFullYear()+"-"+i.getMonth()+"-"+i.getDate()}this._parseTimeZone(b,c),c.timeZoneQuerySelector&&this._setTimeZoneUI(c.timeZoneQuerySelector),b.recurrencePattern&&this._parseAndSetRecurrencePattern(b.recurrencePattern,c),h=this.setUtcTime(e,c.time24HourFormat,c.timeZoneOffset),this.$startDate.datepicker("setDate",h)},toggleState:function(b){this.$element.find(".combobox").combobox(b),this.$element.find(".datepicker").datepicker(b),this.$element.find(".selectlist").selectlist(b),this.$element.find(".spinbox").spinbox(b),this.$element.find(".radio-custom").radio(b),b="disable"===b?"addClass":"removeClass",this.$element.find(".repeat-days-of-the-week .btn-group")[b]("disabled")},value:function(b){return b?this.setValue(b):this.getValue()}},a.fn.scheduler=function(d){var f,e=Array.prototype.slice.call(arguments,1),g=this.each(function(){var b=a(this),g=b.data("fu.scheduler"),h="object"==typeof d&&d;g||b.data("fu.scheduler",g=new c(this,h)),"string"==typeof d&&(f=g[d].apply(g,e))});return void 0===f?g:f},a.fn.scheduler.defaults={},a.fn.scheduler.Constructor=c,a.fn.scheduler.noConflict=function(){return a.fn.scheduler=b,this},a(document).on("mousedown.fu.scheduler.data-api","[data-initialize=scheduler]",function(b){var c=a(b.target).closest(".scheduler");c.data("fu.scheduler")||c.scheduler(c.data())}),a(function(){a("[data-initialize=scheduler]").each(function(){var b=a(this);b.data("scheduler")||b.scheduler(b.data())})})}(a),function(a){var b=a.fn.picker,c=function(c,d){var e=this;this.$element=a(c),this.options=a.extend({},a.fn.picker.defaults,d),this.$accept=this.$element.find(".picker-accept"),this.$cancel=this.$element.find(".picker-cancel"),this.$trigger=this.$element.find(".picker-trigger"),this.$footer=this.$element.find(".picker-footer"),this.$header=this.$element.find(".picker-header"),this.$popup=this.$element.find(".picker-popup"),this.$body=this.$element.find(".picker-body"),this.clickStamp="_",this.isInput=this.$trigger.is("input"),this.$trigger.on("keydown.fu.picker",a.proxy(this.keyComplete,this)),this.$trigger.on("focus.fu.picker",a.proxy(function(c){(void 0===c||a(c.target).is("input[type=text]"))&&a.proxy(this.show(),this)},this)),this.$trigger.on("click.fu.picker",a.proxy(function(c){a(c.target).is("input[type=text]")?a.proxy(this.show(),this):a.proxy(this.toggle(),this)},this)),this.$accept.on("click.fu.picker",a.proxy(this.complete,this,"accepted")),this.$cancel.on("click.fu.picker",function(a){a.preventDefault(),e.complete("cancelled")})},d=function(c){var d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e=a(document).scrollTop(),f=c.$popup.offset();return f.top+c.$popup.outerHeight(!0)>d+e||f.top<e},e=function(b){b.$popup.css("visibility","hidden"),g(b),d(b)&&(f(b),d(b)&&g(b)),b.$popup.css("visibility","visible")},f=function(b){b.$popup.css("top",-b.$popup.outerHeight(!0)+"px")},g=function(b){b.$popup.css("top",b.$trigger.outerHeight(!0)+"px")};c.prototype={constructor:c,complete:function(b){var c={accepted:"onAccept",cancelled:"onCancel",exited:"onExit"},d=this.options[c[b]],e={contents:this.$body};d?(d(e),this.$element.trigger(b+".fu.picker",e)):(this.$element.trigger(b+".fu.picker",e),this.hide())},keyComplete:function(b){this.isInput&&13===b.keyCode?(this.complete("accepted"),this.$trigger.blur()):27===b.keyCode&&(this.complete("exited"),this.$trigger.blur())},destroy:function(){return this.$element.remove(),a(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element[0].outerHTML},disable:function(){this.$element.addClass("disabled"),this.$trigger.attr("disabled","disabled")},enable:function(){this.$element.removeClass("disabled"),this.$trigger.removeAttr("disabled")},toggle:function(){this.$element.hasClass("showing")?this.hide():this.show()},hide:function(){this.$element.hasClass("showing")&&(this.$element.removeClass("showing"),a(document).off("click.fu.picker.externalClick."+this.clickStamp),this.$element.trigger("hidden.fu.picker"))},externalClickListener:function(b,c){(!0===c||this.isExternalClick(b))&&this.complete("exited")},isExternalClick:function(c){var g,h,d=this.$element.get(0),e=this.options.externalClickExceptions||[],f=a(c.target);if(c.target===d||f.parents(".picker:first").get(0)===d)return!1;for(g=0,h=e.length;g<h;g++)if(f.is(e[g])||f.parents(e[g]).length>0)return!1;return!0},show:function(){var c;if(c=a(document).find(".picker.showing"),c.length>0){if(c.data("fu.picker")&&c.data("fu.picker").options.explicit)return;c.picker("externalClickListener",{},!0)}this.$element.addClass("showing"),e(this),this.$element.trigger("shown.fu.picker"),this.clickStamp=(new Date).getTime()+(Math.floor(100*Math.random())+1),this.options.explicit||a(document).on("click.fu.picker.externalClick."+this.clickStamp,a.proxy(this.externalClickListener,this))}},a.fn.picker=function(d){var f,e=Array.prototype.slice.call(arguments,1),g=this.each(function(){var b=a(this),g=b.data("fu.picker"),h="object"==typeof d&&d;g||b.data("fu.picker",g=new c(this,h)),"string"==typeof d&&(f=g[d].apply(g,e))});return void 0===f?g:f},a.fn.picker.defaults={onAccept:void 0,onCancel:void 0,onExit:void 0,externalClickExceptions:[],explicit:!1},a.fn.picker.Constructor=c,a.fn.picker.noConflict=function(){return a.fn.picker=b,this},a(document).on("focus.fu.picker.data-api","[data-initialize=picker]",function(b){var c=a(b.target).closest(".picker");c.data("fu.picker")||c.picker(c.data())}),a(function(){a("[data-initialize=picker]").each(function(){var b=a(this);b.data("fu.picker")||b.picker(b.data())})})}(a)});