<!-- BEGIN directory -->
<div class="gadget directory">
  <h2>{title}</h2>
  <div id="simple_response" class="{response_type}">{response}</div>
  <div><b>Path:</b> <span id="path"></span></div>
  <table><tr>
    <td>
      <form id="frm_files" action="{base_script}" method="post">
        <input type="hidden" name="gadget" value="Directory" />
        <input type="hidden" name="action" value="DeleteFile" />
        <select id="files" name="files" size="20" onchange="selectFile()" ondblclick="openDirectory()"></select>
      </form>
      <div class="actions">
        <button type="button" id="btn_new_dir" onclick="newDirectory()">New Directory</button>
        <button type="button" id="btn_new_file" onclick="newFile()">New File</button>
        <button type="button" id="btn_edit" onclick="edit()">{lbl_edit}</button>
        <button type="button" id="btn_delete" onclick="_delete()">{lbl_delete}</button>
      </div>
    </td>
    <td id="form" valign="top"></td>
  </tr></table>
</div>
<style type="text/css">
  fieldset {border:1px solid silver; margin:0; padding:10px;}
  fieldset input {width:250px;}
  form th {text-align:left;}
  .response_notice {color:#0a0;}
  .response_error {color:#a00;}
  #path span {color:blue; cursor:pointer;}
  #path span:hover {text-decoration:underline;}
  #files {width:400px}
  #filename img {vertical-align:middle; margin:0 5px;}
</style>
<script>
  var data_url = "{data_url}",
      imgDeleteFile = "{imgDeleteFile}";
  initDirectory();
</script>
<!-- END directory -->

<!-- BEGIN directoryForm -->
<form id="frm_dir" name="frm_dir" action="{base_script}" method="post">
  <input type="hidden" name="gadget" value="Directory" />
  <input type="hidden" name="action" value="CreateDirectory" />
  <input type="hidden" name="id" />
  <input type="hidden" name="parent" value="0" />
  <fieldset>
    <table>
      <tr><th>{lbl_title}:</th><td><input name="title" /></td></tr>
      <tr><th>{lbl_desc}:</th><td><input name="description" /></td></tr>
    </table>
  </fieldset>
  <div class="actions">
    <button>{lbl_submit}</button>
    <button type="button" onclick="cancel()">Cancel</button>
  </div>
</form>
<!-- END directoryForm -->

<!-- BEGIN fileForm -->
<form id="frm_file" name="frm_file" action="{base_script}" method="post"
      enctype="multipart/form-data" onsubmit="return true">
  <input type="hidden" name="gadget" value="Directory" />
  <input type="hidden" name="action" value="CreateFile" />
  <input type="hidden" name="id" />
  <input type="hidden" name="parent" value="0" />
  <fieldset>
    <table>
      <tr><th>{lbl_title}:</th><td><input name="title" /></td></tr>
      <tr><th>{lbl_desc}:</th><td><input name="description" /></td></tr>
      <tr><th>URL:</th><td><input name="url" value="http://" /></td></tr>
      <tr><th>File:</th><td>
        <input type="file" id="file" name="file" />
        <span id="filename" style="display:none;"></span>
        </td></tr>
    </table>
  </fieldset>
  <div class="actions">
    <button>{lbl_submit}</button>
    <button type="button" onclick="cancel()">Cancel</button>
  </div>
</form>
<!-- END fileForm -->
